[{"content":"[TOC]\n1.introduction 1.1Purpose   This specification is written to analyze and summarize the basic requirements of the project and describe the basic requirements and functional characteristics of the functional modules.\n  The name of this project is called \u0026ldquo;Super Store Data Analysis\u0026rdquo;, and users can get the following information through this website\n Top 10 products with sales volume greater than 1000 total sales in each order priority where quantity is even number 10 countries whichi have lowest minimutes sales top 10 customers based on the no of letters in their time total quantity in each market where pofit is greater than 100    1.2 How to run the project  you need to install node8.0+ and you\u0026rsquo;d better use vs code open our Three.js project \u0026amp;\u0026amp; run java part in idea which is deployed on tomcat. After all the preparations have been made,you need to run tomcat firstly , and then open Three.js project in vs code ,then open a terminal in it, input \u0026ldquo;npm run dev\u0026rdquo;ï¼Œand wait a minute ,it takes time to deploy website,then you can see what our video shows.  2.Project Overview 2.1product description Build a web3d website through Three.js, and realize information interaction and user registration, login and other functions through jsp and mysql, and display the data through flourish.\n2.2Product Features This project can implement a simple online registration, login function, and use hive to process data. Such as the flow chart:\n3.specific requirement 3.1use case description    Example name View Super store related data     Performer User Administrator   Use Case Brief Specifies how to use the system to query   precondition User identity needs to be properly authenticated   postcondition Return the corresponding data as required   Basic process 1. If you enter the system for the first time, return to the registration page 2. If the registration is successful, return to the login page 3. Click the \u0026ldquo;query\u0026rdquo; button 4. Enter the data display page    ","date":"2022-05-26T16:08:57+08:00","permalink":"https://yuxin-zh.github.io/AllForOne/p/srs/","title":"SRS"},{"content":"[Toc]\nProject Presentation 1.å°ç»„æˆå‘˜ä»‹ç»  ç»„é•¿ï¼šå¼ é’°æ˜• ç»„å‘˜ï¼šåˆ˜åšäºˆ å´å¹³ å¼ ç³ å‘¨å®‡ç’‡ åˆ˜å£«é“­â›  2.å›¢é˜Ÿåˆ†å·¥   å‰åç«¯ä»¥åŠä½¿ç”¨Hiveå¤„ç†æ•°æ®ï¼šå¼ é’°æ˜• åˆ˜åšäºˆ å´å¹³ åˆ˜å£«é“­\n  ä½¿ç”¨Flourishå¤„ç†å¹¶å±•ç¤ºæ•°æ®ï¼šå‘¨å®‡ç’‡ å¼ ç³\n  3.é¡¹ç›®æ•ˆæœå±•ç¤º  æ³¨å†Œå’Œç™»å½•é¡µé¢  â€‹\t æ•°æ®å¤„ç†åçš„æ•ˆæœå±•ç¤ºæš‚æ—¶æœªå®Œæˆ  ","date":"2022-05-19T17:30:32+08:00","permalink":"https://yuxin-zh.github.io/AllForOne/p/project_show/","title":"Project_Show"},{"content":" æˆ‘è¿˜æ²¡è½¬æ¢æˆapæ¨¡å¼ æ‰€ä»¥ä½ å°±æš‚æ—¶ä½¿ç”¨è·¯ç”±è¿æ¥ï¼ˆåªç”¨ç»™è·¯ç”±å™¨é€šç”µ ç„¶åè¿æ¥ç½‘çº¿ä¸€ç«¯æ’åœ¨è·¯ç”±çš„Lanéšä¾¿ä¸€ä¸ªæ¥å£ å¦ä¸€ç«¯æ’å°è½¦ä¸Šï¼‰ğŸšš ä½ ç”µè„‘ä¹Ÿè¦è¿æ¥è¿™ä¸ªè·¯ç”±çš„wifiä¿¡å· WLANåå­—æ˜¯ï¼š419-1 ç®¡ç†å¯†ç æ˜¯418418418 ç„¶åç™»å½•tplogin.cn è¾“å…¥ç®¡ç†å¯†ç  è¿›å…¥ç•Œé¢ç‚¹å‡»è®¾å¤‡ç®¡ç†çœ‹å°è½¦çš„ipåœ°å€ åº”è¯¥æ˜¯192.168.0.101 ç„¶åç‚¹å‡»toolså‹ç¼©åŒ…é‡Œçš„nomachineå®‰è£… ç„¶å ğŸ‘‰ç®¡ç†å‘˜çš„æ–¹å¼è¿è¡ŒğŸ‘ˆnomachine   ç‚¹å‡»è¿›å»åè´¦å·å’Œå¯†ç éšä¾¿å–ä¸€ä¸ª è®°ä½å°±è¡Œï¼ˆä¸€å®šè¦æ˜¯ç®¡ç†å‘˜è¿è¡Œ ä¸ç„¶ä¼šé—ªé€€ï¼‰ ç„¶åä½ è¿›å»ä¼šçœ‹åˆ°ä¸€ä¸ªubuntu18çš„ç•Œé¢ ç‚¹å¼€terminalğŸ“‘ ä¸€èˆ¬çš„è¿è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼ˆæˆ‘ä»¥æ‰“å¼€æ‘„åƒå¤´ä¸ºä¾‹å­å¥¥ï¼‰  å…ˆæ‰“å¼€ä¸€ä¸ªterminal è¾“å…¥roscore å›è½¦âœ åœ¨æ‰“å¼€ä¸€ä¸ªterminal è¾“å…¥roslaunch robot_vision robot_camera.launchğŸƒ å†æ–°å¼€ä¸€ä¸ªterminalè¾“å…¥rqt_image_view å›è½¦ è¿™æ ·å°±å¯ä»¥æŸ¥çœ‹å›¾åƒäº†ğŸ‘€ å…¶ä»–çš„éƒ½å·®ä¸å¤šçš„ å°±æ˜¯è¦æ³¨æ„æ¯æ–°å‘å¸ƒä¸€ä¸ªè¯é¢˜ ä½ éƒ½éœ€è¦æ–°å¼€ä¸€ä¸ªterminalå¹¶ä¸”roscoreæ˜¯éœ€è¦ç¬¬ä¸€ä¸ªæ‰“å¼€çš„    ","date":"2022-04-14T17:10:35+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/bingda/3_hu45a5e3ad5e058da6a00650ed8fd40bea_15530_120x120_fill_q75_box_smart1.jpg","permalink":"https://yuxin-zh.github.io/AllForOne/p/bingda/","title":"Bingda"},{"content":"[TOC]\nè®¡ç®—æœºç½‘ç»œ 1.å‰è¨€   è®¡ç®—æœºç½‘ç»œæ˜¯ äº’è¿çš„ï¼ˆäº’è”äº’é€šï¼‰ **è‡ªæ²»ï¼ˆæ— ä¸»ä»å…³ç³»ï¼‰**çš„è®¡ç®—æœºé›†åˆ\n  äº”å¤§åŠŸèƒ½ï¼š\n  æ•°æ®é€šä¿¡ï¼šè¿é€šæ€§\n  èµ„æºå…±äº«ï¼šå¯¹ç¡¬ä»¶ è½¯ä»¶ æ•°æ®çš„å…±äº«\n  åˆ†å¸ƒå¼å¤„ç†ï¼šå¤šå°è®¡ç®—æœºå…±åŒæ‰¿æ‹…åŒä¸€å·¥ä½œä»»åŠ¡çš„ä¸åŒéƒ¨åˆ†\n  æé«˜å¯é æ€§ï¼šæ›¿ä»£æœºçš„å­˜åœ¨\n  è´Ÿè½½å‡è¡¡ï¼šå°†ä»»åŠ¡å‡è¡¡åˆ†é…ç»™å„å°è®¡ç®—æœº\n  è®¡ç½‘çš„ç»„æˆï¼šç¡¬ä»¶ï¼Œè½¯ä»¶ï¼Œåè®®\n  å·¥ä½œæ–¹å¼ï¼š\n è¾¹ç¼˜éƒ¨åˆ†ï¼šç”¨æˆ·ç›´æ¥ä½¿ç”¨ï¼šC/Sæ–¹å¼ P2Pæ–¹å¼ æ ¸å¿ƒéƒ¨åˆ†ï¼šä¸ºè¾¹ç¼˜éƒ¨åˆ†æœåŠ¡    åŠŸèƒ½ç»„æˆï¼š\n é€šä¿¡å­ç½‘ï¼šå®ç° æ•°æ®é€šä¿¡ èµ„æºå­ç½‘ï¼šå®ç° èµ„æºå…±äº«/æ•°æ®å¤„ç†    è®¡ç®—æœºç½‘ç»œçš„åˆ†ç±»ï¼š\n æŒ‰åˆ†å¸ƒèŒƒå›´åˆ†ï¼šå¹¿åŸŸç½‘WAN åŸåŸŸç½‘MAN å±€åŸŸç½‘WAN ä¸ªäººåŒºåŸŸç½‘PAN æŒ‰ä½¿ç”¨è€…åˆ†ï¼šå…¬ç”¨ç½‘ï¼Œä¸“ç”¨ç½‘ æŒ‰äº¤æ¢æŠ€æœ¯åˆ†ï¼šç”µè·¯äº¤æ¢ï¼ŒæŠ¥æ–‡äº¤æ¢ï¼Œåˆ†ç»„äº¤æ¢ æŒ‰æ‹“æ‰‘ç»“æ„åˆ†ï¼š æŒ‰ä¼ è¾“æŠ€æœ¯åˆ†ï¼šå¹¿æ’­å¼ç½‘ç»œï¼ˆå…±äº«å…¬å…±ä¿¡é“ï¼‰ ç‚¹å¯¹ç‚¹ï¼šä½¿ç”¨ åˆ†ç»„å­˜å‚¨è½¬å‘å’Œè·¯ç”±é€‰æ‹©æœºåˆ¶  åˆ†ç»„è½¬å‘ï¼šæŒ‡äº’è”ç½‘ä¸­è·¯ç”±å™¨è½¬å‘ipåˆ†ç»„çš„ç‰©ç†è¿‡ç¨‹å’Œæ•°æ®æŠ¥è½¬å‘æœºåˆ¶ã€‚åœ¨ç½‘ç»œä¸­ï¼Œä¸€å°ä¸»æœºé€šå¸¸æ˜¯ä¸ä¸€å°è·¯ç”±å™¨ç›¸é“¾æ¥ï¼Œè¿™å°è·¯ç”±å™¨å«ä¸»æœºçš„ é»˜è®¤è·¯ç”±å™¨ï¼Œåˆç§°ä¸º ç¬¬ä¸€è·³è·¯ç”±å™¨æˆ– ç¼ºçœè·¯ç”±å™¨ ,æºè·¯ç”±å™¨ ç›®çš„ä¸»æœºæ‰€é“¾æ¥çš„è·¯ç”±å™¨å«åš ç›®çš„è·¯ç”±å™¨ ï¼›åˆ†ç»„è½¬å‘é€šå¸¸åˆ†ä¸ºç›´æ¥å’Œé—´æ¥ï¼Œæºä¸»æœºä¸ç›®çš„ä¸»æœºçš„åœ¨ä¸€ä¸ªç½‘ç»œå°±å«åšç›´æ¥è½¬å‘ å¦åˆ™å°±ä¸ºé—´æ¥è½¬å‘      2.æ ‡å‡†åŒ–å·¥ä½œ  æ ‡å‡†çš„åˆ†ç±»ï¼š  æ³•å®šæ ‡å‡†ï¼šç”±æƒå¨æœºæ„æŒ‡å®šçš„æ­£å¼çš„ï¼Œåˆæ³•çš„æ ‡å‡† ä¾‹å¦‚OSI äº‹å®æ ‡å‡†ï¼šæŸäº›å…¬å¸çš„äº§å“åœ¨ç«äº‰ä¸­å æ®äº†ä¸»æµï¼›ä¾‹å¦‚TCP/IP   RFCï¼šå› ç‰¹ç½‘æ ‡å‡†çš„ä¸€ç§å½¢å¼ å¹¶ä¸ä»£è¡¨æ‰€æœ‰RFCéƒ½æ˜¯å› ç‰¹ç½‘æ ‡å‡† å› ç‰¹ç½‘æ ‡å‡†ä¸€å®šæ˜¯RFCå½¢å¼ï¼›RFCä¸Šå‡ä¸ºå› ç‰¹ç½‘æ ‡å‡†éœ€è¦å››ä¸ªé˜¶æ®µï¼š  1ï¼‰å› ç‰¹ç½‘è‰æ¡ˆï¼ˆæ­¤æ—¶å¹¶ä¸æ˜¯RFCæ–‡æ¡£ï¼‰ 2ï¼‰å»ºè®®æ ‡å‡† æˆä¸ºäº†RFCæ–‡æ¡£ 3ï¼‰è‰æ¡ˆæ ‡å‡† 2011å¹´ä»¥åå–æ¶ˆ 4ï¼‰å› ç‰¹ç½‘æ ‡å‡†   æ ‡å‡†åŒ–å·¥ä½œçš„ç›¸å…³ç»„ç»‡  ISO ITU IEEE    3.äº’è”ç½‘ç›¸å…³çš„æŒ‡æ ‡  é€Ÿç‡ï¼šå³æ•°æ®ç‡æˆ–è¾“å‡ºä¼ è¾“ç‡ï¼Œæ¯”ç‰¹ç‡  æ¯”ç‰¹ 1/0ä½ è¿æ¥åœ¨è®¡ç®—æœºç½‘ç»œä¸Šçš„ä¸»æœºåœ¨æ•°å­—ä¿¡é“ä¸Šä¼ é€æ•°æ® ä½æ•°çš„é€Ÿç‡ å•ä½æ˜¯k/s kb/s Gb/s Tb/s éœ€è¦æ³¨æ„çš„ä½¿å½¢å®¹é€Ÿåº¦çš„ä¸åŒå•ä½çš„æ¢ç®—å…³ç³»ä¸å­˜å‚¨æ˜¯ä¸åŒçš„   å¸¦å®½ï¼šç”¨æ¥è¡¨ç¤ºç½‘ç»œçš„é€šä¿¡çº¿è·¯ä¼ é€æ•°æ®çš„èƒ½åŠ›ï¼Œé€šå¸¸æ˜¯æŒ‡å•ä½æ—¶é—´å†…ä»ç½‘ç»œä¸­çš„æŸä¸€ç‚¹åˆ°å¦ä¸€ç‚¹æ‰€èƒ½é€šè¿‡çš„\u0026quot;æœ€é«˜æ•°æ®ç‡\u0026quot; ç”µç£æ³¢çš„ä¼ æ’­é€Ÿç‡2*10^8m/s ååé‡ï¼šè¡¨ç¤ºåœ¨å•ä½æ—¶é—´å†…é€šè¿‡æŸä¸ªç½‘ç»œï¼ˆæ¥å£ ä¿¡é“ï¼‰çš„æ•°æ®é‡ã€‚å•ä½ä¸ºb/s lb/s Mb/s æ—¶å»¶ï¼šæŒ‡æ•°æ®æŠ¥ä»ç½‘ç»œçš„ä¸€æ®µä¼ é€åˆ°å¦ä¸€ç«¯æ‰€éœ€çš„äº‹ä»¶ã€‚ä¹Ÿå« å»¶è¿Ÿ æˆ– è¿Ÿå»¶ã€‚å•ä½æ˜¯ms  å‘é€æ—¶å»¶ğŸ“«==æ•°æ®é•¿åº¦/ä¿¡é“å¸¦å®½ ä¼ æ’­æ—¶å»¶ğŸ“°==å–å†³äºç”µç£æ³¢ä¼ æ’­é€Ÿåº¦å’Œé“¾è·¯é•¿åº¦ æ’é˜Ÿæ—¶å»¶ğŸš‰==ç­‰å¾…è¾“å‡º/è¾“å…¥ é“¾è·¯å¯ç”¨æ‰€éœ€çš„æ—¶é—´ å¤„ç†æ—¶å»¶ğŸ¥“==æ£€é”™ æ‰¾å‡ºå£çš„æ—¶é—´   å¾€è¿”æ—¶å»¶RTTï¼šä»å‘é€æ–¹å‘é€æ•°æ®å¼€å§‹ï¼Œåˆ°å‘é€æ–¹æ¥æ”¶åˆ°æ¥æ”¶æ–¹çš„ç¡®è®¤ï¼Œæ€»å…±ç»å†çš„æ—¶å»¶ åˆ©ç”¨ç‡ï¼š  ä¿¡é“åˆ©ç”¨ç‡: ä¸»è¦çœ‹é“¾è·¯å¤šé•¿æ—¶é—´ä¸Šæœ‰æ•°æ®ä¼ è¾“ ç½‘ç»œåˆ©ç”¨ç‡: ä¿¡é“åˆ©ç”¨ç‡åŠ æƒå¹³å‡å€¼    ","date":"2022-03-20T15:48:16+08:00","permalink":"https://yuxin-zh.github.io/AllForOne/p/internet/","title":"Internet"},{"content":"[TOC]\n1.Hive Introduction   HIveæ˜¯ä¸€ä¸ªå¼€æºçš„ æ•°æ®ä»“åº“è½¯ä»¶ï¼Œç”¨äºreadï¼Œwriteï¼Œmanageç›´æ¥å­˜å‚¨åœ¨HDFSä¸­çš„å¤§å‹æ•°æ®é›†æ–‡ä»¶\n  HQLç”¨äºæ•°æ®æŸ¥è¯¢å’Œåˆ†æ\n  HIveæ˜¯åŸºäºè¯»å–çš„å› æ­¤ä¸é€‚ç”¨äºé«˜é¢‘ç‡å†™å…¥æ“ä½œçš„äº‹åŠ¡å¤„ç†\n  HIveåŠŸèƒ½\n æå–/è½¬è½½/åŠ è½½ ï¼ˆETLï¼‰æ•°æ® å­˜å‚¨ æŸ¥è¯¢å’Œåˆ†æHDFSæˆ–Hbaseä¸­å­˜å‚¨çš„å¤§è§„æ¨¡æ•°æ® æŸ¥è¯¢æ˜¯é€šè¿‡MapReduceå®Œæˆçš„ï¼ŒNoticeğŸ‰ï¼šå¹¶éæ‰€æœ‰æŸ¥è¯¢éƒ½éœ€è¦Mapreduce  Extensionï¼šhiveä¸ºäº†æ‰§è¡Œæ•ˆç‡è€ƒè™‘ï¼Œç®€å•çš„æŸ¥è¯¢å¦‚selectï¼Œä¸å¸¦countï¼Œsum,group byğŸ˜€è¿™æ ·çš„éƒ½ä¸èµ°mapreduceï¼Œç›´æ¥è¯»å–hdfsæ–‡ä»¶è¿›è¡Œfilterè¿‡æ»¤ å½“æŸ¥è¯¢è¯­å¥ä¸­çš„è¿‡æ»¤æ¡ä»¶åªæ˜¯åˆ†åŒºå­—æ®µçš„æƒ…å†µä¸‹ä¸ä¼šè¿›è¡Œmapreduce   hive-site-xml æœ‰ä¸ªé…ç½®å‚æ•°hive.fetch.task.conversion = moreå°†è¯¥å‚æ•°è®¾ç½®ä¸ºmoreæ—¶ï¼Œç®€å•æŸ¥è¯¢å°±ä¸ä¼šèµ°mapreduceäº†ï¼Œè‰²æ¹–ä¹‹ä¸ºminimalï¼Œé‚£ä¹ˆä»»ä½•æŸ¥è¯¢éƒ½ä¼šèµ°mapreduceğŸš©    Hiveå…è®¸ç”¨æˆ·ç¼–å†™è‡ªå·±çš„å‡½æ•°,æœ‰å¦‚ä¸‹ä¸‰ç§ç±»å‹ï¼š\n ç”¨æˆ·å®šä¹‰å‡½æ•° UDF ç”¨æˆ·å®šä¹‰èšåˆå‡½æ•° UDAF ç”¨æˆ·å®šä¹‰çš„è¡¨ç”Ÿæˆå‡½æ•° UDTF    Hiveç¼ºç‚¹ï¼š\n ä¸æ”¯æŒå¤„ç†session æ— æ³•ä¿®æ”¹è¡¨æ•°æ®ï¼ˆæ— æ³•æ›´æ–°ã€åˆ é™¤ã€æ’å…¥ï¼‰åªèƒ½é€šè¿‡æ–‡ä»¶è¿½åŠ å’Œé‡æ–°å¯¼å…¥æ•°æ® æ— æ³•ä¸ºåˆ—ç¼–åˆ¶ç´¢å¼•ï¼ˆæ”¯æŒç´¢å¼•ï¼Œä½†æ— æ³•æé«˜æŸ¥è¯¢é€Ÿåº¦ï¼‰    Hiveæ•°æ®å­˜å‚¨\n  Hiveå¯ä»¥è§£ææ•°æ®ï¼Œæ‰€ä»¥å°†æ•°æ®å¯¼å…¥Hiveè¡¨åªéœ€å°†æ•°æ®ç§»åŠ¨åˆ°è¡¨æ‰€åœ¨çš„ç›®å½•ï¼ˆæ•°æ®åœ¨HDFSï¼‰,å¦‚æœæ•°æ®åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™éœ€è¦å°†æ•°æ®å¤åˆ¶åˆ°è¡¨æ‰€åœ¨çš„ç›®å½•ä¸­ã€‚ğŸ€„\n  ä»æœ¬åœ°ï¼šExampleï¼šåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿèˆ¹èˆ°ä¸€ä¸ªåä¸ºlocal.txtçš„æ–‡ä»¶ï¼ˆæ•°æ®ä¹‹é—´ç©ºæ ¼é—´éš”ï¼‰ï¼Œç„¶åæ‰§è¡Œäº†load data local inpath'ç»å¯¹è·¯å¾„/local.txt into table local;å°±å¯ä»¥ ä½¿ç”¨hadoop fs -ls\nè·¯å¾„/local æŸ¥çœ‹æ˜¯å¦å¯¼å…¥æˆåŠŸ\n  ä»HDFS:åœ¨HIveä¸­åˆ›å»ºdata_hdfsè¡¨ï¼Œè¡¨ä¸­å‡è®¾æœ‰ä¸¤ä¸ªå­—æ®µï¼šname,age;\nå°†æ–‡ä»¶ä»æœ¬åœ°ä¸Šä¼ åˆ°hdfsï¼šhadoop fs -put data_hdfs.txt /data\nhiveå¯¼å…¥`load data inpath \u0026lsquo;data/data_hdfs.txt\u0026rsquo; into table data_hdfs;\n    HIveå®¢æˆ·ç«¯\n  Thrift Serverï¼šä¸ºæ‰€æœ‰æ”¯æŒThriftçš„ç¼–ç¨‹è¯­è¨€çš„è¯·iå»æä¾›æœåŠ¡ï¼ˆå‡ ä¹æ‰€æœ‰ä¸»æµè¯­è¨€ï¼‰\n  Thriftå®é™…ä¸Šæ˜¯å®ç°äº†C/Sæ¨¡å¼ï¼Œé€šè¿‡ä»£ç ç”Ÿæˆå·¥å…·å°†thriftæ–‡ç”ŸæˆæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä»£ç ï¼ˆå¯ä»¥ä¸ºä¸åŒè¯­è¨€ï¼‰ï¼Œä»è€Œå®ç°æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯è·¨è¯­è¨€çš„æ”¯æŒã€‚ç”¨æˆ·åœ¨Thirftæ–‡ä»¶ä¸­å£°æ˜è‡ªå·±çš„æœåŠ¡ï¼Œè¿™äº›æœåŠ¡ç»è¿‡ç¼–è¯‘åä¼šç”Ÿæˆç›¸åº”è¯­è¨€çš„ä»£ç æ–‡ä»¶ï¼Œç„¶åå®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡ï¼ŒæœåŠ¡å™¨ç«¯ææœåŠ¡ä¾¿å¯ä»¥äº†ã€‚\n  Thriftæ˜¯Facebookäº2007å¹´å¼€å‘çš„è·¨è¯­è¨€çš„rpcæœæ¡†æ¶ï¼Œæä¾›å¤šè¯­è¨€çš„ç¼–è¯‘åŠŸèƒ½ï¼Œå¹¶æä¾›å¤šç§æœåŠ¡å™¨å·¥åšæ¨¡å¼ï¼›ç”¨æˆ·ç»è¿‡Thriftçš„IDLï¼ˆæ¥å£å®šä¹‰è¯­è¨€ï¼‰æ¥æè¿°æ¥å£å‡½æ•°åŠæ•°æ®ç±»å‹ï¼Œè€Œåç»è¿‡Thriftçš„ç¼–è¯‘ç¯å¢ƒç”Ÿæˆå„ç±»è¯­è¨€ç±»å‹çš„æ¥å£æ–‡ä»¶ï¼Œç”¨æˆ·èƒ½å¤Ÿæ ¹æ®æœ¬èº«çš„é¡»è¦é‡‡ç”¨ä¸ä¸€æ ·çš„è¯­è¨€å¼€å‘å®¢æˆ·ç«¯ä»£ç å’ŒæœåŠ¡å™¨ç«¯ä»£ç ã€‚git\nä¾‹å¦‚ï¼Œæˆ‘æƒ³å¼€å‘ä¸€ä¸ªå¿«é€Ÿè®¡ç®—çš„RPCæœåŠ¡ï¼Œå®ƒä¸»è¦ç»è¿‡æ¥å£å‡½æ•°getIntå¯¹å¤–æä¾›æœåŠ¡ï¼Œè¿™ä¸ªRPCæœåŠ¡çš„getIntå‡½æ•°ä½¿ç”¨ç”¨æˆ·ä¼ å…¥çš„å‚æ•°ï¼Œé€šè¿‡å¤æ‚çš„è®¡ç®—ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæ•´å½¢å€¼è¿”å›ç»™ç”¨æˆ·ï¼›æœåŠ¡å™¨ç«¯ä½¿ç”¨javaè¯­è¨€å¼€å‘ï¼Œè€Œè°ƒç”¨å®¢æˆ·ç«¯èƒ½å¤Ÿæ˜¯javaã€cã€pythonç­‰è¯­è¨€å¼€å‘çš„ç¨‹åºï¼Œåœ¨è¿™ç§åº”ç”¨åœºæ™¯ä¸‹ï¼Œå’±ä»¬åªé¡»è¦ä½¿ç”¨Thriftçš„IDLæè¿°ä¸€ä¸‹getIntå‡½æ•°ï¼ˆä»¥.thriftä¸ºåç¼€çš„æ–‡ä»¶ï¼‰ï¼Œè€Œåä½¿ç”¨Thriftçš„å¤šè¯­è¨€ç¼–è¯‘åŠŸèƒ½ï¼Œå°†è¿™ä¸ªIDLæ–‡ä»¶ç¼–è¯‘æˆCã€javaã€pythonå‡ ç§è¯­è¨€å¯¹åº”çš„â€œç‰¹å®šè¯­è¨€æ¥å£æ–‡ä»¶â€ï¼ˆæ¯ç§è¯­è¨€åªé¡»è¦ä¸€æ¡ç®€å•çš„å‘½ä»¤ä¾¿å¯ç¼–è¯‘å®Œæˆï¼‰ï¼Œè¿™æ ·æ‹¿åˆ°å¯¹åº”è¯­è¨€çš„â€œç‰¹å®šè¯­è¨€æ¥å£æ–‡ä»¶â€ä»¥åï¼Œå°±èƒ½å¤Ÿå¼€å‘å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„ä»£ç äº†ï¼Œå¼€å‘è¿‡ç¨‹å½“ä¸­åªè¦æ¥å£ä¸å˜ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„å¼€å‘èƒ½å¤Ÿç‹¬ç«‹çš„è¿›è¡Œã€‚apa\n  JDBC Driverï¼šç”¨äºhiveå’Œjavaä¹‹é—´å»ºç«‹è¿æ¥\n  ODBC Driverï¼šå…è®¸è‡ªæŒODBCåè®®çš„åº”ç”¨ç¨‹åºè¿æ¥åˆ°hive ğŸ·\n    HIve Service\n HIve CLI ï¼šæ˜¯ä¸€ä¸ªshellï¼Œç”¨äºæ‰§è¡ŒHiveæŸ¥è¯¢å’Œå‘½ä»¤ HIve Web User Interface:hive cliçš„æ›¿ä»£ï¼Œæä¾›äº†ç›¸åº”åŠŸèƒ½çš„åŸºäºwebçš„GUI HIve Metastoreï¼šä¸€ä¸ª ä¸­å¤®å­˜å‚¨åº“ï¼Œå­˜å‚¨ä»“åº“ä¸­çš„å„ç§è¡¨å’Œåˆ†åŒºçš„æ‰€æœ‰ç»“æ„ä¿¡æ¯ã€‚è¿˜åŒ…æ‹¬åˆ—çš„å…ƒæ•°æ®åŠå…¶ç±»å‹ä¿¡æ¯ï¼›Used for è¯»å–å’Œå†™å…¥æ•°æ®ä»¥åŠå­˜å‚¨æ•°æ®çš„ç›¸åº”HDFSæ–‡ä»¶çš„åºåˆ—åŒ–ç¨‹åºå’Œååºåˆ—åŒ–æ•°æ®ã€‚ğŸ“ HIve Server: æ¥å—æ¥è‡ªä¸åŒå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å°†å…¶æä¾›ç»™Hiveé©±åŠ¨ç¨‹åº HIve Driver: æ¥æ”¶æ¥è‡ªä¸åŒæ¥æºçš„æŸ¥è¯¢ï¼Œå®ƒ å°†æŸ¥è¯¢ä¼ è¾“åˆ°ç¼–è¯‘å™¨ HIve Compilerï¼šç›®çš„æ˜¯ è§£ææŸ¥è¯¢ğŸ”å¹¶å¯¹ä¸åŒçš„æŸ¥è¯¢å¿«å’Œè¡¨è¾¾å¼æ‰§è¡Œè¯­ä¹‰åˆ†æï¼Œ\u0026ndash;\u0026gt;å°†HQLè½¬åŒ–ä¸ºMapReduce Job    2.HIveæ•°æ®æ¨¡å‹   Tables  æ‰˜ç®¡è¡¨æˆ–å†…éƒ¨è¡¨ï¼šHIveåœ¨åˆ›å»ºè¡¨æ—¶çš„é»˜è®¤è¡¨ã€‚  ç‰¹ç‚¹ï¼šåœ¨å†…éƒ¨è¡¨è¢«åˆ é™¤åï¼Œè¡¨çš„å…ƒç´ æ®å’Œè¡¨æ•°æ®éƒ½ä»HDFSä¸­å®Œå…¨åˆ é™¤ é€‚ç”¨åœºæ™¯ï¼šğŸ‘¤ETLæ•°æ®æ¸…ç†æ­»ç”¨å†…éƒ¨è¡¨åšä¸­é—´è¡¨ï¼Œæ¸…ç†æ—¶HDFSä¸Šçš„æ–‡ä»¶åŒæ­¥æ¸…é™¤ğŸ†‘åœ¨è¯¯åˆ çš„æƒ…å†µä¸‹ï¼Œæ˜“äºå›å¤çš„æ•°æ®ï¼Œç”¨å†…éƒ¨è¡¨â²åœ¨ç»Ÿè®¡åˆ†ææ—¶ï¼Œä¸æ¶‰åŠæ•°æ®å…±äº«çš„æƒ…å†µ   å¤–éƒ¨è¡¨ï¼šè¡¨ä¸­çš„æ•°æ®åˆ é™¤åä»»ç„¶åœ¨HDFSä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´åªä¼šåˆ é™¤ç›¸å…³çš„å…ƒæ•°æ®ï¼Œè€Œè¡¨çš„å†…å®¹ä¸ä¼šåˆ é™¤  å£°æ˜å¤–éƒ¨è¡¨çš„è¯­æ³•create external table if not exists       Partiotion\n é€šè¿‡åŸºäºä»»ä½•åˆ—æˆ–åˆ†åŒºé”®å°†ç›¸åŒç±»å‹çš„æ•°æ®åˆ†ç»„åœ¨ä¸€èµ·ï¼ŒHIveè¡¨è¢«ç»„ç»‡åœ¨åˆ†åŒºä¸­ï¼Œæ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªåˆ†åŒºé”®ç”¨äºè¡¨ç¤ºï¼Œåˆ†åŒºå¯ä»¥åŠ å¿«æŸ¥è¯¢å’Œåˆ‡ç‰‡è¿‡ç¨‹ã€‚ create table........... Patitioned BY(partition1 string,partition2 string) åˆ†åŒºé€šè¿‡å‡å°‘å»¶è¿Ÿæ¥æé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Œå› ä¸ºå®ƒåªæ‰«æç›¸å…³æ•°æ®ï¼Œè€Œä¸æ‰«æå®Œæ•´æ•°æ®    åˆ†æ¡¶Buckets\n è¡¨æˆ–è€…åˆ†åŒºå¯ä»¥å†æ¬¡ç»†åˆ†ä¸ºBucketï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨hashå‡½æ•°ï¼š `create table\u0026hellip;..patitioned B\u0026hellip;.Clustered BY(clolumn 1 ,column 2) Sorted BY(column_name Asc:Desc,_) Into num_bucket Buckets; åˆ†æ¡¶åªæ˜¯è¡¨ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯åˆ†åŒºä¹Ÿå¯ä¸åˆ†åŒºï¼Œç”šè‡³å¯ä»¥é€‰æ‹©nä¸ªbucketå¯¹æ•°æ®è¿›è¡Œåˆ†åŒºã€‚ã€    3.Hiveæ•°æ®ç±»å‹   HIveæ˜¯ç”¨javaå¼€å‘çš„ï¼ŒHIveçš„åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”äºjavaçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼šTINYINT-1,SMALLINT-2,INT-4,BIGINT-8;\n  å¤æ‚æ•°æ®ç±»å‹ create table tt(c1 ARRAY\u0026lt;INT\u0026gt;,c2 MAP\u0026lt;STRING,INT\u0026gt;,c3 STRUCT\u0026lt;a:STRING,b:INT,c:DOUBLE\u0026gt;);\n  4.HIveServer2  HiveServer2æ˜¯ä¸€ç§ä½¿å®¢æˆ·ç«¯èƒ½å¤Ÿå¯¹HIveæ‰§è¡ŒæŸ¥è¯¢çš„æœåŠ¡ï¼ˆhs1ç§°ä½œèŠ‚çº¦æœåŠ¡å™¨ï¼ŒåŸºäºThriftåè®®æ„å»ºï¼Œç”¨äºå¤„ç†HIveçš„è·¨å¹³å°é€šè®¯ï¼Œå®ƒå…è®¸ä¸åŒçš„å®¢æˆ·ç«¯å‘hiveæäº¤è¯·æ±‚å¹¶æ£€ç´¢æœ€åç»“æœï¼‰ã€‚ä½†æ˜¯å®ƒä¸å¤„ç†æ¥è‡ªå¤šä¸ªå®¢æˆ·ç«¯çš„å¹¶å‘è¯·æ±‚ï¼Œå› æ­¤è¢«Hs2æ›¿æ¢ğŸ·ğŸ·ğŸ·  4.1 HS2ä½“ç³»ç»“æ„  MetaStoreğŸ‘‹ï¼šåŸå­˜å‚¨å¯ä»¥é…ç½®ä¸º åµŒå…¥å¼æˆ– è¿œç¨‹æœåŠ¡å™¨ã€‚HS2ä¸metastoreé€šä¿¡ï¼Œä»¥è·å–æŸ¥è¯¢ç¼–è¯‘æ‰€éœ€è¦çš„å…ƒæ•°æ®  åµŒå…¥å¼ï¼šhiveæœåŠ¡å’ŒmetastoreæœåŠ¡è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼ŒderbyæœåŠ¡ä¹Ÿè¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­ã€‚è¯¥æ¨¡å¼æ— éœ€ç‰¹æ®Šé…ç½®ã€‚ æœ¬åœ°æ¨¡å¼ï¼šhiveæœåŠ¡å’ŒmetastoreæœåŠ¡è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œmysqlæ˜¯å•ç‹¬çš„è¿›ç¨‹ï¼Œå¯ä»¥åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨è¿œç¨‹æœºå™¨ä¸Šã€‚è¯¥æ¨¡å¼åªéœ€å°†hive-site.xmlä¸­çš„ConnectionURLæŒ‡å‘mysqlï¼Œå¹¶é…ç½®å¥½é©±åŠ¨åã€æ•°æ®åº“è¿æ¥è´¦å·å³å¯ è¿œç¨‹æ¨¡å¼ï¼šhiveæœåŠ¡å’Œmetastoreåœ¨ä¸åŒçš„è¿›ç¨‹å†…ï¼Œå¯èƒ½æ˜¯ä¸åŒçš„æœºå™¨ã€‚ è¯¥æ¨¡å¼éœ€è¦å°†hive.metastore.localè®¾ç½®ä¸ºfalseï¼Œå¹¶å°†hive.metastore.urisè®¾ç½®ä¸ºmetastoreæœåŠ¡å™¨URIï¼Œå¦‚æœ‰å¤šä¸ªmetastoreæœåŠ¡å™¨ï¼ŒURIä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚metastoreæœåŠ¡å™¨URIçš„æ ¼å¼ä¸ºthrift://host:portã€‚   JDBC ClientğŸ¥ï¼šJDBCå®¢æˆ·ç«¯ä½¿ç”¨JDBCé©±åŠ¨ä¸HS2äº¤äº’  jdbcå¯åŠ¨ä¼ è¾“è¿æ¥ï¼Œé€šè¿‡ OpenSession APIè°ƒç”¨è·å–ä¼šè¯å¥æŸ„åˆ›å»º HiveConnectionï¼Œ ç»˜ç”»ä½¿ä»æœåŠ¡å™¨ç«¯åˆ›å»º æ‰§è¡ŒHiveStatementï¼Œå¹¶ä»Thriftå®¢æˆ·æœºå‘å‡ºExecuteStatement APIè°ƒç”¨ã€‚åœ¨APIè°ƒç”¨ä¸­ï¼ŒSessionHandleä¿¡æ¯ä¸æŸ¥è¯¢ä¿¡æ¯ä¸€èµ·ä¼ é€’ç»™æœåŠ¡å™¨ HS2è¯·æ±‚é©±åŠ¨ç¨‹åºï¼ˆCommandProcessorï¼‰è¿›è¡ŒæŸ¥è¯¢è§£æå’Œç¼–è¯‘ã€‚é©±åŠ¨ç¨‹åºå¯åŠ¨ä¸€ä¸ªåå°jobï¼Œè¯¥jobä¸MApreduceå¯¹è¯ï¼Œç„¶åå‘å®¢æˆ·ç«¯è¿”å›å“åº”ï¼ˆåŒ…å«ä»æœåŠ¡å™¨ç«¯åˆ›å»ºçš„OperationHandleï¼‰ å®¢æˆ·ç«¯ä½¿ç”¨ohä¸hs2å¯¹è¯ï¼Œä»¥æŸ¥è¯¢æ‰§è¡ŒçŠ¶æ€    5.Hiveç®¡ç†   Hiveä¸­çš„æ•°æ®åº“æè¿°äº†ä¸ºäº†ç›¸ä¼¼ç›®çš„æˆ–å±äºç›¸åŒç»„çš„è¡¨çš„é›†åˆã€‚ æ¯å½“åˆ›å»ºæ•°æ®åº“æ—¶ï¼ŒHIveéƒ½ä¼šåœ¨/user/Hive/warehouseå¤„ä¸ºæ¯ä¸ªæ•°æ®åº“åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œè¯¥ç›®å½•åœ¨HIve.metastore.warehouse.dirä¸­å®šä¹‰ã€‚\n  1 2 3 4 5 6 7 8 9 10 11 12  #æè¿°æ•°æ®åº“ describe database .... #åˆ›å»ºå¸¦æœ‰æ³¨é‡Šçš„æ•°æ®åº“ create database if not exists t1 comment \u0026#34;Its Niit Project\u0026#34; #ä½¿ç”¨dbpropertiesåˆ›å»ºæ•°æ®åº“ create database if not exists db2 with dbproperties(\u0026#39;creator\u0026#39;=\u0026#39;Peter\u0026#39;,\u0026#39;date\u0026#39;=\u0026#39;2021-08-02\u0026#39;); #ç”¨dbpropertiesæè¿°æ•°æ®åº“ describe database extended t1; #åˆ é™¤æ•°æ®åº“åŠå…¶æ‰€æœ‰è¡¨ deop database if exists æ•°æ®åº“å CASCADE; #ä½¿ç”¨é€šé…ç¬¦ show databases like \u0026#39;my.*\u0026#39;;     1 2 3 4 5 6 7 8 9  Createexternaltable......å½“ç”¨æˆ·åˆ›å»ºå†…éƒ¨è¡¨æ—¶ï¼Œå®ƒä¼šå°†æ•°æ®ç§»åŠ¨åˆ°ä»“åº“æŒ‡å‘çš„è·¯å¾„ã€‚å¦‚æœåˆ›å»ºäº†å¤–éƒ¨è¡¨çš„ï¼Œå®ƒåªä¼šè®°å½•æ•°æ®æ‰€åœ¨çš„è·¯å¾„ï¼Œè€Œä¸æ›´æ”¹æ•°æ®çš„ä½ç½®ã€‚Createtablewdnmd()rowformatdelimitedfieldsterminatedby\u0026#39;åˆ†éš”ç¬¦\u0026#39;linesterminatedby\u0026#39;\\n\u0026#39;storedasæ–‡ä»¶ç±»å‹ï¼ˆé»˜è®¤æ˜¯æ—¶TEXTFILEï¼‰#åˆ›å»ºåˆ†åŒºè¡¨createtableifnotexistspart_table()partiotionedby(ssstring)rowformatdelimitedfieldsterminatedby\u0026#39;,\u0026#39;linesterminatedby\u0026#39;\\n\u0026#39;;#åˆ›å»ºåˆ†æ¡¶è¡¨createtableifnotexiststest_bucket(idint)partiotionedby(ssstring)clusteredby(id)into3bucketsrowformatdelimitedfieldsterminatedby\u0026#39;,\u0026#39;linesterminatedby\u0026#39;\\n\u0026#39;;#å¤åˆ¶è¡¨ç»“æ„createtabletest_liek_tableliketest_bucket;    1 2 3 4 5  è¡¨é‡å‘½åï¼šaltertabletable_namerenametonew_nameä¿®æ”¹è¡¨çš„åˆ—ç±»å‹ï¼šaltertabletable_nameold_column_namenew_column_namecolumn_type;æ·»åŠ åˆ—ï¼šaltertabletable_nameaddcolumns(dint);æ›´æ”¹åˆ—åï¼šaltertabletable_namechangecolumn_namenew_namestring;åˆ é™¤åˆ—å¹¶åˆ›å»ºæ–°åˆ—åï¼šaltertabletable_namereplacecolumns(idint,namestring);    5.1æ‰˜ç®¡è¡¨å’Œå†…éƒ¨è¡¨   å†…éƒ¨è¡¨çš„ç‰¹ç‚¹\n  å†…éƒ¨è¡¨ç”±hiveæ§åˆ¶\n  è®¿é—®å†…éƒ¨è¡¨çš„æ•°æ®å”¯ä¸€çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨hiveã€‚æ— è®ºæ•°æ®çš„ä½ç½®æ˜¯HDFSè¿˜æ˜¯hiveè‡ªå·±çš„ä»“åº“ç›®å½•ï¼ŒHIveä¸å…è®¸å…¶ä»–çš„ä»»ä½•åº”ç”¨ç¨‹åºè®¿é—®è¯¥æ•°æ®Â®Â®Â®Â®\n  å¦‚æœå¿…é¡»è®¿é—®å†…éƒ¨è¡¨çš„æ•°æ®ï¼Œåªèƒ½å¯¹è¯¥è¡¨ä½¿ç”¨HIveæŸ¥è¯¢\n    å¤–éƒ¨è¡¨çš„ç‰¹ç‚¹ï¼š\n åªæœ‰å­˜å‚¨åœ¨metastoreçš„å…ƒæ•°æ®ç”±hiveæ§åˆ¶    5.2å°†æ•°æ®åŠ è½½åˆ°Hive  åŠ è½½çš„è¿‡ç¨‹ä¸­ï¼ŒLOCALå…³é”®è¯æŒ‡å®šæ–‡ä»¶åœ¨ä¸»æœºä¸­çš„ä½ç½®ã€‚ å¦‚æœæœªæŒ‡å®šLOCALå…³é”®å­—ï¼Œå°†ä»inpathä¹‹åæŒ‡å®šçš„URIæˆ–fs.default.name Hiveå±æ€§ä¸­çš„å€¼åŠ è½½æ–‡ä»¶ï¼Œè€ŒOverriteå†³å®šæ˜¯è¿½åŠ è¿˜æ˜¯æ›¿æ¢ç°æœ‰æ•°æ® æœ¬åœ°ï¼šload data local inpath '/////' into table table_name HDFS:load data inpath '/user/.../... into table table_name'  ğŸ¥ğŸ¥Hiveåˆ†åŒºğŸ¥ğŸ¥   åˆ†åŒºçš„é‡è¦æ€§\n  åˆ†åŒºæ˜¯ä¸€ç§æ ¹æ®ç‰¹å®šåˆ—çš„å€¼å°†è¡¨åˆ’åˆ†ä¸ºç›¸å…³éƒ¨åˆ†çš„æ–¹æ³•â²å…ˆæä¸€ä¸‹HIveåœ¨æŸ¥è¯¢ä¸­çš„ä½œç”¨ï¼šhiveå°†SQLæŸ¥è¯¢è½¬æ¢ä¸ºMapreduceä½œä¸šï¼Œç„¶åå°†å…¶æäº¤åˆ°Hadoopé›†ç¾¤ã€‚æäº¤SQLæŸ¥è¯¢æ—¶ï¼ŒHIveè¯»å–æ•´ä¸ªæ•°æ®é›†ã€‚\n  é™æ€åˆ†åŒº SPï¼ˆstatic partitionï¼‰ â€ƒ1ã€é™æ€åˆ†åŒºæ˜¯åœ¨ç¼–è¯‘æœŸé—´æŒ‡å®šçš„æŒ‡å®šåˆ†åŒºåğŸˆ¯ 2ã€æ”¯æŒloadå’Œinsertä¸¤ç§æ’å…¥æ–¹å¼ 2.1loadæ–¹å¼load data local inpath'' into table partition.. 1ï¼‰ä¼šå°†åˆ†åŒºå­—æ®µçš„å€¼å…¨éƒ¨ä¿®æ”¹ä¸ºæŒ‡å®šçš„å†…å®¹ 2ï¼‰ä¸€èˆ¬æ˜¯ç¡®å®šè¯¥åˆ†åŒºå†…å®¹æ˜¯ä¸€è‡´çš„æ—¶å€™æ‰ä¼šä½¿ç”¨2w3qaw 2.2insertæ–¹å¼ 1ï¼‰å¿…é¡»å…ˆå°†æ•°æ®æ”¾åœ¨ä¸€ä¸ªæ²¡æœ‰è®¾ç½®åˆ†åŒºçš„æ™®é€šè¡¨ä¸­ 2ï¼‰è¯¥æ–¹å¼å¯ä»¥åœ¨ä¸€ä¸ªåˆ†åŒºå†…å­˜å‚¨ä¸€ä¸ªèŒƒå›´çš„å†…å®¹ 3ï¼‰ä»æ™®é€šè¡¨ä¸­é€‰å‡ºçš„å­—æ®µä¸èƒ½åŒ…å«åˆ†åŒºå­—æ®µ 3ã€é€‚ç”¨äºåˆ†åŒºæ•°å°‘ï¼Œåˆ†åŒºåå¯ä»¥æ˜ç¡®çš„æ•°æ®\n  åŠ¨æ€åˆ†åŒº DPï¼ˆdynamic partitionï¼‰   â€ƒ1ã€æ ¹æ®åˆ†åŒºå­—æ®µçš„å®é™…å€¼ï¼ŒåŠ¨æ€è¿›è¡Œåˆ†åŒºğŸ’½ 2ã€æ˜¯åœ¨sqlæ‰§è¡Œçš„æ—¶å€™è¿›è¡Œåˆ†åŒº 3ã€éœ€è¦å…ˆå°†åŠ¨æ€åˆ†åŒºè®¾ç½®æ‰“å¼€ï¼ˆset hive.exec.dynamic.partition.mode=nonstrict ï¼‰ 4ã€åªèƒ½ç”¨insertæ–¹å¼insert into table partition(åˆ†åŒºå) select () from table .. 5ã€é€šè¿‡æ™®é€šè¡¨é€‰å‡ºçš„å­—æ®µåŒ…å«åˆ†åŒºå­—æ®µï¼Œåˆ†åŒºå­—æ®µæ”¾ç½®åœ¨æœ€åï¼Œå¤šä¸ªåˆ†åŒºå­—æ®µæŒ‰ç…§åˆ†åŒºé¡ºåºæ”¾ç½®\nâ€‹\t6ã€å¢åŠ åˆ†åŒºalter ... add partition() localtion....\nâ€‹\t7ã€åˆ é™¤åˆ†åŒºåï¼Œå°†åŒæ—¶åˆ é™¤å…ƒæ•°æ®å’Œæ•°æ®\n  5.4Hiveåˆ†æ¡¶   Hiveä¸­çš„åˆ†æ¡¶æ˜¯æŠŠæ•°æ®åˆ†è§£ä¸ºå¤šä¸ªèŒƒå›´çš„æ¦‚å¿µï¼Œç”¨äºä¸ºæ•°æ®æä¾›é¢å¤–çš„ç»“æ„ï¼Œä»¥ä¾¿ç”¨äºæ›´é«˜æ•ˆçš„æŸ¥è¯¢ã€‚bucketçš„èŒƒå›´ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„å“ˆå¸Œå€¼å†³å®šï¼Œè¿™äº›åˆ—è¢«ç§°ä¸ºâ€œbucketingâ€åˆ—æˆ–è€…â€œclustering byâ€åˆ—ã€‚\n  é€šå¸¸çš„æˆ‘ä»¬ä¼šåœ¨ ğŸ˜€åˆ†åŒºæ•°é‡æœ‰é™æˆ–è€…åˆ†åŒºçš„å¤§å°ç›¸å¯¹ç›¸ç­‰çš„æƒ…å†µä¸‹é€‰æ‹©åˆ†åŒºï¼Œä½†æ˜¯å¯¹äºä¸€äº›æ•°æ®åˆ†å¸ƒå¹¶ä¸å‡ç­‰çš„æƒ…å†µï¼Œè¿™ç§åˆ†åŒºæ—¶ä¸ä¸ç†æƒ³çš„ï¼Œå› æ­¤å¼•å…¥äº†bucketçš„æ¦‚å¿µã€‚\n  å¦‚æœè¦ä½¿ç”¨åˆ†æ¡¶éœ€è¦è®¾ç½®ä»¥ä¸‹å±æ€§ğŸ“œ\n set hive.enforce.bucketing = true; set hive.exec.dynamic.partition.mode=nonstrict;    åˆ›å»ºåˆ†æ¡¶create table t_name() partitioned by() clustered by() into å‡ ä¸ª buckets.....\n  åŠ è½½æ•°æ®insert into table t_name partition() select ...from table_...\n  5.5Hiveæ¨¡å¼è®¾è®¡ 5.5.1æ—¥æœŸè¡¨   æŒ‰ç…§æ—¥æœŸåˆ†åŒºæ¥åˆ›å»ºè¡¨ï¼š\n`create table data_table(id int,part string ) partitioned by(int date);`    ä¸€æ¬¡åŠ è½½å¤šä¸ªè¿›ç¨‹\n  1  Hiveå¯ä»¥åœ¨åŠ è½½æ•°æ®æºåæ‰§è¡Œå¤šä¸ªæ“ä½œï¼Œè€Œæ— éœ€æ¯æ¬¡åŠ è½½æ•°æ®likeselcet*fromtableç¬¬äºŒæ¬¡æŸ¥è¯¢å°±å¯ä»¥ä¸å±‘è¿™æ˜¯ä¸æ˜¯å°±æ˜¯å“ªä¸ªqt1hiveä¸‰å¤§å¼•æ“ã€‚   Hiveä¸­ä¸åŒç±»å‹çš„æ–‡ä»¶  æ–‡æœ¬æ–‡ä»¶ï¼šé»˜è®¤æ–‡ä»¶ï¼Œä½†æ˜¯åˆå¾ˆå¤§çš„ç£ç›˜å¼€é”€å’Œæ•°æ®è§£æå¼€é”€ åºåˆ—æ–‡ä»¶ï¼šhadoop apiæä¾›çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ˜“äºä½¿ç”¨ï¼Œå¯æ‹†åˆ†ï¼Œå¯å‹ç¼©ã€‚ä»¥äºŒè¿›åˆ¶æ ¼å¼å­˜å‚¨ è‡ªå®šä¹‰æ ¼å¼ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡å®ç°iputformatå’Œoutputformatè‡ªå®šä¹‰è¾“å…¥å’Œè¾“å‡ºæ ¼å¼ AVROæ–‡ä»¶ï¼šå®ƒæ˜¯ä¸€ç§æ–‡ä»¶æ ¼å¼åŠ ä¸Šä¸€ä¸ªåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ¡†æ¶ åˆ—æ–‡ä»¶æ ¼å¼ï¼šä¸ä»…å­˜å‚¨å½¼æ­¤ç›¸è¿çš„æ•°æ®è¡Œï¼Œè¿˜å­˜å‚¨å½¼æ­¤ç›¸é‚»çš„åˆ—å€¼ã€‚å› æ­¤æ•°æ®é›†åœ¨æ°´å¹³å’Œå‚ç›´æ–¹å‘éƒ½åˆ†äº†åŒºã€‚æœ‰ä¸‰ç§é‡è¦çš„æŸ±çŠ¶æ–‡ä»¶æ ¼å¼ -RCæ–‡ä»¶ ORCæ–‡ä»¶ Parquetæ–‡ä»¶  RCæ–‡ä»¶ï¼šäºŒè¿›åˆ¶é”®å€¼å¯¹ç»„æˆçš„å¹³é¢æ–‡ä»¶ï¼Œä¸åºåˆ—åŒ–æ–‡ä»¶ç›¸ä¼¼ ORCæ–‡ä»¶ï¼šrcçš„æ›´å¥½ç‰ˆæœ¬ï¼šæœ‰æ›´å¿«çš„è¯»å–é€Ÿåº¦ï¼Œä½†å†™å…¥æ€§èƒ½è¾ƒå·®ï¼Œæä¾›æ˜¾è‘—çš„å—å‹ç¼©ï¼Œå¯ä»¥ç”¨é«˜å‹ç¼©æ¯”è¿›è¡Œå‹ç¼©ã€‚ Parquetï¼šæ˜¯ä¸€ç§Hadoopæœ€è‘—åçš„æ–‡ä»¶æ ¼å¼ï¼ˆæŸ±çŠ¶æ–‡ä»¶æ ¼å¼ï¼‰ï¼Œä»¥å¹³é¢æŸ±çŠ¶æ ¼å¼å­˜å‚¨åµŒå¥—æ•°æ®ç»“æ„ï¼Œè¯»å–é€Ÿåº¦æå‡ï¼Œä½†å†™å…¥æ€§èƒ½è¾ƒå·®      5.6å¯¼å‡ºHiveæ•°æ® 1 2 3 4  mkdir /jiaoben/ouput set hive.cli.print.header = true; insert overwrite local directory \u0026#39;/jiaoben/ouput\u0026#39; row format delimited fields terminated by \u0026#39; \u0026#39; lines terminated by \u0026#39;\\n\u0026#39; select * from wd;   6.HQLè¯­æ³• ","date":"2022-02-23T15:24:22+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/hive/b2_hu887bbe02e80c5e80bd313f1fc9a20233_9408_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://yuxin-zh.github.io/AllForOne/p/hive/","title":"Hive"},{"content":"[TOC]\nZookeeper 1.IntroductionğŸ˜€ 1.1 åˆ†å¸ƒå¼ç³»ç»Ÿ   åˆ†å¸ƒå¼ç³»ç»Ÿå®šä¹‰ä¸ºä¸€ç§ è½¯ä»¶ç³»ç»Ÿï¼Œå®ƒç”±ç‹¬ç«‹çš„è®¡ç®—å®ä½“ç»„æˆï¼Œè¿™äº›ç‹¬ç«‹çš„è®¡ç®—å®ä½“é€šè¿‡å°±æŒ‰åŠç½‘ç»œè¿æ¥åœ¨ä¸€èµ·ï¼Œè®¡ç®—æœºç½‘ç»œçš„ç»„ä»¶ç›¸äº’é€šä¿¡çš„åè°ƒä»¥å®ç°å…±åŒçš„ç›®æ ‡\n  ä¸»è¦ç‰¹å¾ğŸ¤•ï¼š\n èµ„æºå…±äº«ï¼šåœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ç³»ç»Ÿä¸­çš„èµ„æºï¼Œä¾‹å¦‚å­˜å‚¨ç©ºé—´ï¼Œè®¡ç®—èƒ½åŠ›ï¼Œæ•°æ®å’ŒæœåŠ¡ç­‰ å¯æ‹“å±•æ€§ï¼šä»ç¡¬ä»¶å’Œè½¯ä»¶çš„è§’åº¦é€æ­¥æ‹“å±•å’Œæ”¹è¿›ç³»ç»Ÿçš„å¯èƒ½è¡Œ å¹¶å‘æ€§ï¼šå¤šä¸ªç”¨æˆ·å¯ä»¥åŒæ—¶ä½¿ç”¨ä»¥å®ŒæˆåŒä¸€ä»»åŠ¡æˆ–ä¸åŒä»»åŠ¡çš„ç³»ç»ŸåŠŸèƒ½ æ€§èƒ½å’Œå¯æ‹“å±•æ€§ï¼šç¡®ä¿ç³»ç»Ÿçš„å“åº”æ—¶é—´ä¸ä¼šéšç€æ€»è´Ÿè½½çš„å¢åŠ å’Œé™ä½ å®¹é”™ï¼šå³ä½¿æŸäº›ç»„ä»¶å‘ç”Ÿæ•…éšœï¼Œä»å¯ä»¥ç¡®ä¿ç³»ç»Ÿå§‹ç»ˆå¯ç”¨ é€šè¿‡APIè¿›è¡ŒæŠ½è±¡ï¼šç¡®ä¿å¯¹æœ€ç»ˆç”¨æˆ·éšè—ç³»ç»Ÿçš„å„ä¸ªç»„ä»¶ï¼Œä»…å‘ä»–ä»¬å±•ç¤ºæœ€ç»ˆæœåŠ¡ğŸ’Š    **åˆ†å¸ƒå¼è®¡ç®—çš„è°¬è®ºï¼š**è®¾è®¡åˆ†å¸ƒå¼ç³»ç»Ÿå¾ˆéš¾ï¼Œè€Œå°†ä¸€ç»„å•ç‹¬çš„è®¡ç®—å®ä½“ç¼–å†™ä¸ºç¨‹åºä¸€èµ·è¿è¡Œæ—¶ç”šè‡³å›æ›´éš¾ï¼Œè®¾è®¡äººå‘˜å’Œå¼€å‘å‘˜ç»å¸¸åšä¸€äº›å‡è®¾ã€‚\n   å‡è®¾æ¡ä»¶ å®é™…æƒ…å†µ     ç½‘ç»œå¯é  å®é™…ä¸Šï¼Œç½‘ç»œæˆ–ç»„ä»¶ä¹‹é—´çš„é€šè®¯å¯èƒ½å¤±è´¥   å»¶è¿Ÿä¸º0 åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç”¨æˆ·å¯ä»¥ä»å…¨çƒçš„ä»»ä½•ä¸€ä¸ªåœ°æ–¹è¿æ¥åˆ°è¯¥ç³»ç»Ÿï¼Œä½†æ˜¯æ•°æ®ä¼ è¾“éœ€è¦æ—¶é—´ã€‚   å¸¦å®½æ— é™å¤§ Nope   ç½‘ç»œå®‰å…¨ ç³»ç»Ÿåœ¨è®¾è®¡çš„æ—¶å€™å¹¶æ²¡æœ‰è®¤çœŸè€ƒè™‘åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ï¼Œå› æ­¤ä¼šé¢ä¸´æ‹’ç»æœåŠ¡æ”»å‡»   æ‹“æ‰‘ä¸å˜ éšç€æ—¶é—´çš„æµé€ï¼Œæœ‰äº›ç»„ä»¶å°†ä¼šè¢«åˆ é™¤   å”¯ä¸€ç®¡ç†å‘˜ åˆ†å¸ƒå¼ç³»ç»Ÿå¹¶ä¸ä¼šç‹¬ç«‹è¿è¡Œ   è¿è¾“é›¶æˆæœ¬    ç½‘ç»œæ˜¯åŒè´¨çš„ ç½‘ç»œç”±å¤§é‡ä¸åŒçš„å®ä½“ç»„æˆ      åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®ç°åè°ƒæ—¶é‡åˆ°çš„æŒ‘æˆ˜ï¼š   ","date":"2022-02-23T15:22:46+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/zookeeper/b1_hu020fa2966f97d159a6081b34023a48f1_16898_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://yuxin-zh.github.io/AllForOne/p/zookeeper/","title":"Zookeeper"},{"content":"","date":"2022-02-16T00:55:19+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/spring/b5_hu896e223e610358494ca46474686101a7_201319_120x120_fill_q75_box_smart1.jpg","permalink":"https://yuxin-zh.github.io/AllForOne/p/spring/","title":"Spring"},{"content":"[TOC]\nLINUXå®‰è£…ä¸é…ç½® 1.è™šæ‹Ÿæœºå®‰è£…  æ–°å»ºè™šæ‹Ÿæœºï¼Œé€‰æ‹©è‡ªå®šä¹‰    é€‰æ‹©é»˜è®¤ç‰ˆï¼Œç„¶åä¸‹ä¸€æ­¥\n  ç„¶åç‚¹å‡»ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ\n  é€‰æ‹©centos 7 64ä½\n  æ›´æ”¹å®‰è£…ä½ç½®åˆ°ä½ å¸Œæœ›å®‰è£…çš„ä½ç½®\n  ä»¥ä¸‹ç”µè„‘é…ç½®é«˜çš„å¯ä»¥é€‰æ‹©é…ç½®å¤šä¸ªå¤„ç†å™¨\n  è™šæ‹Ÿæœºå†…å­˜é»˜è®¤æ˜¯1Gï¼Œå¦‚æœæœ‰éœ€è¦å¯æŒ‰éœ€è°ƒé…ï¼Œè¿™é‡Œé…ç½®4G\n  ç½‘ç»œç±»å‹é€‰æ‹©ä½¿ç”¨ä»…ä¸»æœºæ¨¡å¼ç½‘ç»œ\n  SCSIæ§åˆ¶å™¨é€‰æ‹©LSI Logicï¼ˆé»˜è®¤ï¼‰\n  ç£ç›˜é€‰æ‹©åˆ›å»ºæ–°çš„\n  æœ€å¤§ç£ç›˜å¤§å°é€‰æ‹©é»˜è®¤çš„20G\n  å®Œæˆå®‰è£…\n  2.å®‰è£…é•œåƒ   ç‚¹å‡»ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®\n  ç‚¹å‡»CD/DVD\n  ç‚¹å‡»ä½¿ç”¨ISOé•œåƒæ–‡ä»¶ï¼Œç„¶åé€‰æ‹©å®‰è£…çš„centçš„é•œåƒ\n  å¼€å¯è™šæ‹Ÿæœºï¼Œé€‰æ‹©install centos 7 å›è½¦\n  å®‰è£…ç»“æŸåé€‰æ‹©ä¸­æ–‡\n  ç‚¹å‡»è½¯ä»¶é€‰æ‹©\n  è¿™é‡Œæˆ‘ä»¬é€‰æ‹©æœ€å°å®‰è£…ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©\n  ç„¶åæ˜¯ç‚¹å‡»å®‰è£…ç›®æ ‡ä½ç½®ï¼Œç›´æ¥ ç‚¹å‡»å®Œæˆå³å¯\n  å†ç‚¹å‡»ç½‘ç»œå’Œä¸»æœºåï¼Œç‚¹å‡»é…ç½®\n  ç‚¹å‡»ipv4è®¾ç½®ï¼Œè®²è™šæ‹Ÿæœºè®¾ç½®é™æ€ipï¼Œipåœ°å€ä¸º192.168.xx.xx,æ³¨æ„å°†DNSæœåŠ¡å™¨å’Œç½‘å…³è®¾ç½®ä¸€è‡´ï¼Œå­ç½‘æ©ç è®¾ç½®ä¸º255.255.255.0\n  ç‚¹å‡»ipv6 åˆ‡æ¢ä¸ºå¿½ç•¥ï¼Œç„¶åå®Œæˆã€‚\n  ç‚¹å‡»å®Œæˆ\n  è®¾ç½®ä¸»æœºåï¼Œç‚¹å‡»åº”ç”¨\n  å®Œæˆ\n  è®¾ç½®rootå¯†ç \n  è®¾ç½®å®Œæˆåï¼Œé‡å¯ã€‚\n  å¯èƒ½éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´\n  è¾“å…¥å¯†ç ï¼Œç™»å½•æˆåŠŸ ç™»é™†æ—¶ç”¨æˆ·åä¸ºrootï¼Œå¯†ç æ˜¯ä½ è®¾ç½®çš„é‚£ä¸ªå¯†ç \n  ä¿®æ”¹ç½‘ç»œé…ç½®\n1  vi/etc/sysconfig/network-scripts/ifcfg-ens33     ä¿®æ”¹å¦‚ä¸‹é…ç½®\n1 2 3 4  IPADDR=\u0026#34;192.168.50.XX(è¿™é‡Œçš„æ•°å­—å¯ä»¥è‡ªå·±é€‰æ‹©)\u0026#34; //IPåœ°å€ PREFIX=\u0026#34;24\u0026#34; GATEWAY=\u0026#34;192.168.50.2\u0026#34;//ç½‘å…³ DNS1=\u0026#34;192.168.50.2 //DNSæœåŠ¡å™¨\u0026#34;     ç„¶åç‚¹å‡»service network restart\n  æŸ¥çœ‹ipåœ°å€ifconfig,è¿™æ ·ä½ çš„è™šæ‹Ÿæœºå°±å®‰è£…å®Œæˆäº†\n  3.é…ç½®è™šæ‹Ÿæœºç½‘ç»œé€‚é…å™¨   ç‚¹å‡»ç½‘ç»œé€‚é…å™¨\n  ç‚¹å‡»ç¼–è¾‘\n  ç„¶åç¼–è¾‘ipåœ°å€ä¿¡æ¯vi /etc/sysconfig/network-scripts/ifcfg-ens33\n1 2 3 4  ç„¶åä¿®æ”¹BOOTPROTO=static ONBOOT=yes åŠ ä¸ŠDNS2=8.8.8.8 ç„¶åæŒ‰ä¸‹ESC è¾“å…¥\u0026#34;:wq\u0026#34; å›è½¦     ä¿å­˜åè¾“å…¥systemctl restart networkæˆ–service network restart\n  4.é…ç½®DNS   ä¸€æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\ncd /etc/NetworkManager\nvi NetworkManager.confå†æœ€åæ·»åŠ dns=none\n  ç„¶åvi /etc/resolv.conf\n    è¾“å…¥ä½ ä¹‹å‰ä¿å­˜çš„ä¸¤ä¸ªNDS\n  å°è¯•ping www.baidu.com å†…ç½‘\n  ping 172.16.50.171 å¤–ç½‘\n  ","date":"2022-02-16T00:54:24+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/linux/b4_hufc4426c01aefee65074e77ba9d297e0e_200631_120x120_fill_q75_box_smart1.jpg","permalink":"https://yuxin-zh.github.io/AllForOne/p/linux/","title":"Linux"},{"content":"1  \u0026lt;a href=https://www.jianshu.com/p/bcc54f63abe4\u0026gt;\u0026lt;/a\u0026gt;   [toc]\nHbase 1.Overview Hbase  æ˜¯ä¸€ç§åˆ†å¸ƒå¼ å¯æ‹“å±• æ”¯æŒæµ·é‡æ•°æ®å­˜å‚¨çš„NoSQLæ•°æ®åº“ hdfsä¸æ”¯æŒéšæœºå†™ï¼ŒåŸºäºHDFSï¼Œhbaseå¯ä»¥å®ç°éšæ—¶å†™ hadoopå’Œhabaseéƒ½æ˜¯å­˜å‚¨å¤§é‡æ•°æ®çš„ ä½†ä¸åŒçš„æ˜¯hadoopçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæ•°æ®åˆ†å¸ƒåœ¨ç½‘ç»œçš„ä¸åŒèŠ‚ç‚¹ä¸­ è€Œhbaseæ˜¯ä¸ªæ•°æ®åº“ åˆ—è¡Œçš„å½¢å¼å­˜å‚¨  1.1æ•°æ®æ¨¡å‹   NameSpaceï¼šç±»ä¼¼äºå…³ç³»æ•°æ®åº“ä¸­çš„databaseæ¦‚å¿µï¼Œæ¯ä¸ªnsä¸‹æœ‰å¤šä¸ªè¡¨ã€‚Hbaseè‡ªå¸¦ä¸¤ä¸ªnsï¼šhbaseå’Œdefault.hbaseã€‚ hbaseå­˜æ”¾çš„æ˜¯HBaseå†…ç½®çš„è¡¨ï¼Œdefaultè¡¨æ˜¯ç”¨æˆ·é»˜è®¤ä½¿ç”¨çš„å‘½åç©ºé—´ã€‚\n  Regionï¼šè¡¨çš„åˆ‡ç‰‡ ã€‚åˆšå¼€å§‹åˆ›å»ºå°±ä¸€ä¸ªregion\n  Rowï¼šHbaseè¡¨ä¸­çš„æ¯è¡Œæ•°æ®éƒ½ç”±ä¸€ä¸ªRowkeyå’Œå¤šä¸ªåˆ—ç»„æˆï¼Œæ•°æ®æ˜¯æŒ‰ç…§Rowkeyçš„å­—å…¸åºè¿›è¡Œå­˜å‚¨çš„ï¼Œå¹¶ä¸”æŸ¥è¯¢æ—¶åªèƒ½æ ¹æ®rowkeyè¿›è¡ŒæŸ¥è¯¢\n  Columnï¼šhbaseæ¯ä¸ªåˆ—éƒ½ç”±Column Familyå’ŒColumn Qualifierï¼ˆåˆ—é™å®šç¬¦ï¼‰è¿›è¡Œé™å®š\n  TimeStampï¼šç”¨äºæ ‡è¯†æ•°æ®çš„ä¸åŒç‰ˆæœ¬ï¼Œæ•°æ®ä»”å†™å…¥æ—¶ï¼Œä¸æŒ‡å®šçš„è¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºå…¶åŠ ä¸Šè¯¥å­—æ®µï¼Œå€¼ä¸ºå†™å…¥hbaseçš„æ—¶é—´\n  Cellï¼šç”±{Rowkeyï¼Œclolumn Familyï¼Œclolumn Qualifierï¼ŒtimeStamp}å”¯ä¸€ç¡®å®šçš„å•å…ƒï¼Œcellä¸­çš„æ•°æ®æ˜¯æ²¡æœ‰ç±»å‹çš„ï¼Œå…¨éƒ¨æ˜¯å­—èŠ‚ç çš„å½¢å¼å­˜åœ¨ã€‚\n  1.2 HbaseåŸºæœ¬æ¶æ„  Store\u0026ndash;\u0026gt;Region\u0026ndash;\u0026gt;Region Server(åˆ†å¸ƒå¼æœåŠ¡)  RegionServerï¼šDML å¯¹è¡¨ä¸­æ•°æ®è¿›è¡Œæ“ä½œ  Dataï¼šgetï¼Œputï¼ˆæäº¤æ–°æ•°æ®è¦†ç›–å…ƒæ•°æ®ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å…ƒæ•°æ®ï¼‰ï¼Œdelete Regionï¼šsplitRegionï¼ŒcompactRegion åˆ‡åˆ†å’Œåˆå¹¶     MasteræŒ‚æ‰çš„è¯ï¼Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥ä»å¯ä»¥ï¼Œä½†æ˜¯åšè¡¨ç»“æ„çš„ä¸è¡Œ masterç®¡ç†ddl  Masterï¼šDDL å¯¹è¡¨è¿›è¡Œæ“ä½œ  Tableï¼šcreate,delete,alter å…³äºè¡¨è¿›è¡Œæ“ä½œ RegionServerï¼šåˆ†é…Regionsåˆ°æ¯ä¸ªRegionserverï¼Œç›‘æ§æ¯ä¸ªRegionServerçš„status   Zookeeperï¼šHBaseé€šè¿‡Zookeeperæ¥åšmasterçš„é«˜å¯ç”¨ã€RegionServerçš„ç›‘æ§ï¼Œå…ƒæ•°æ®çš„å…¥å£ä»¥åŠé›†ç¾¤é…ç½®çš„ç»´æŠ¤ç­‰å·¥ä½œ    1.3 Hbaseçš„å®‰è£…å’Œé…ç½® 1.4 HBase Shellæ“ä½œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73  #general statusï¼š #ddl alterï¼š 1ï¼‰add åˆ—æ—åˆ°è¡¨ä¸­ alter \u0026#39;è¡¨å\u0026#39;ï¼ŒNAME=\u0026gt;\u0026#39;åˆ—æ—å\u0026#39;ï¼ŒVERSIONS=\u0026gt;5 alter \u0026#39;t1\u0026#39;, \u0026#39;f1\u0026#39;, {NAME =\u0026gt; \u0026#39;f2\u0026#39;, IN_MEMORY =\u0026gt; true}, {NAME =\u0026gt; \u0026#39;f3\u0026#39;, VERSIONS =\u0026gt; 5} 2) delte åˆ—æ— alter \u0026#34;ns:è¡¨å\u0026#34;,NAME=\u0026gt;\u0026#39;åˆ—æ—å\u0026#39;ï¼ŒMETHOD=\u0026gt;\u0026#39;delete\u0026#39; alter \u0026#39;ns:è¡¨å\u0026#39;,\u0026#39;delete\u0026#39;=\u0026gt;\u0026#39;f1\u0026#39; 3)change table-scopeçš„å±æ€§ like below alter \u0026#39;table name\u0026#39;,MAX_FILESIZE=\u0026gt;\u0026#39;134217728\u0026#39; 4)è®¾ç½®coprocessor ä¸çŸ¥é“æ˜¯å¦ä»”niitèŒƒå›´å†…ï¼Œå¯ä»¥è¯¾ä¸‹å­¦å­¦ 5) é€šè¿‡hbaseå‘½ä»¤è¡Œè®¾ç½®habseçš„é…ç½®ä¿¡æ¯ 6) set Regin_Replication alter \u0026#39;table_name\u0026#39;,{REGION_REPLICATION=\u0026gt;2} 7)disable/enable table split or merge alter \u0026#39;tn\u0026#39;,{SPLIT_ENABLED=\u0026gt;false} alter \u0026#39;tn\u0026#39;,{MERGE_ENABLED=\u0026gt;false} alter_status:#Get the status of the alter command. Indicates the number of regions of thetable that have received the updated schema ,Passed by table name. create: create \u0026#39;ns:tn\u0026#39;,{NAME=\u0026gt;\u0026#39;\u0026#39;,VERSIONS=\u0026gt;},{},{} desc \u0026#39;ns;tn\u0026#39; disable: disable \u0026#39;ns:tn\u0026#39; disable_all drop: should be executed after \u0026#34;disable\u0026#34; drop \u0026#39;ns:tn\u0026#39; drop_all enable: enable \u0026#39;ns:tn\u0026#39; enable_all exits:åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨ exists \u0026#39;ns;tb\u0026#39; get_table: #Get the given table name and return it as an actual object to be manipulated by the user #namespacelis create_namespace \u0026#39;ns1\u0026#39; describe_namespace \u0026#39;ns1\u0026#39; descä¸è¡Œ drop_namespace \u0026#39;\u0026#39; list_namespace #DML append \u0026#39;t1\u0026#39;,\u0026#39;r1\u0026#39;,\u0026#39;c1\u0026#39;,\u0026#39;value\u0026#39;ç›¸å½“äºStringçš„append valueåŠ åœ¨åŸæœ‰valueçš„å count: è®¡æ•°ä¸€ä¸ªè¡¨ä¸­çš„rowæ•°é‡ count \u0026#39;tn\u0026#39; æˆ–è€…å»ºç«‹ä¸€ä¸ªt-\u0026gt;\u0026#39;tn\u0026#39;çš„reference t.countä¹Ÿå¯ä»¥ #####Get \u0026amp;\u0026amp;\u0026amp;\u0026amp; Scan getçš„æœ€å¤§èŒƒå›´æ˜¯æŒ‡å®šåˆ°rowkeyï¼Œç”šè‡³è¿˜å¯ä»¥æŒ‡å®šåˆ°æ—¶é—´æˆ³ #åˆ©ç”¨scanæŸ¥çœ‹åŒä¸€ä¸ªcellä¹‹å‰å·²ç»putçš„æ•°æ®ï¼ˆscanæ—¶å¯ä»¥è®¾ç½®æ˜¯å¦å¼€å¯RAWæ¨¡å¼ï¼Œå¼€å¯RAWæ¨¡å¼ä¼šè¿”å›å·²æ·»åŠ åˆ é™¤æ ‡è®°ä½†æ˜¯æœªå®é™…è¿›è¡Œåˆ é™¤çš„æ•°æ®ï¼‰ #getè·å–æŸä¸ªcellä¿ç•™çš„ï¼ˆæœªæ·»åŠ åˆ é™¤æ ‡è®°ï¼‰çš„æ‰€æœ‰versionæ•°æ®ï¼ˆåœ¨describe è¡¨åï¼ŒæŸ¥çœ‹åˆ—æ—VERSIONSæ˜¯å¤šå°‘ï¼Œgetå°±ä¼šå¤šå°‘æ•°æ®(cellçš„æ•°æ®å¤§äºç­‰äºVERSIONSçš„æ•°é‡)ï¼‰   1.5Hbaseçš„è¯»å†™æµç¨‹ å¯¹äºhbaseæ¥è¯´ è¯»æ¯”å†™è¦æ…¢\n å†™æµç¨‹  like putçš„æµç¨‹ï¼šé¦–å…ˆclientä¼š\u0026mdash;-è¯·æ±‚metaè¡¨æ‰€åœ¨çš„RegionServer\u0026mdash;\u0026gt; ZooKeeper\u0026mdash;-meta:hadoop02\u0026mdash;\u0026ndash;\u0026gt;client metaè¡¨å­˜çš„å°±æ˜¯å…ƒæ•°æ® ç„¶åclient\u0026mdash;è¯·æ±‚meta\u0026mdash;-\u0026gt;hadoop02\u0026mdash;\u0026mdash;è¿”å›meta è·å–RS\u0026mdash;\u0026ndash;\u0026gt;client\u0026mdash;\u0026ndash;å…ƒæ•°æ®å­˜å…¥ç¼“å­˜\u0026mdash;\u0026ndash;\u0026gt;meta cache(ä¸‹æ¬¡æŸ¥æ‰¾ä¼šå…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œä¸å­˜åœ¨åˆ™è¯·æ±‚ZK) æ‰¾åˆ°åclient\u0026mdash;å‘é€Putè¯·æ±‚\u0026mdash;-\u0026gt;RegionServer\u0026mdash;\u0026gt;wal\u0026mdash;-\u0026gt;memstore\u0026mdash;\u0026ndash;\u0026gt;client æ³¨æ„windowsæ—¶é—´ä¸linuxæ—¶é—´æœªç»Ÿä¸€çš„è¯ï¼Œä¸è¦ä¼ æ—¶é—´æˆ³å‚æ•°    1.6Hbaseç‰¹æ€§  å®¹é‡å¤§ é¢å‘åˆ— ç¨€ç–æ€§ï¼šnullçš„ç©ºåˆ—ä¸å ç”¨å­˜å‚¨ç©ºé—´ æ‹“å±•æ€§ï¼šHbaseå¯ä»¥åŠ¨æ€å¢åŠ regionserver é«˜æ€§èƒ½ï¼šLSMæ•°æ®ç»“æ„  1.7åº”ç”¨åœºæ™¯  æœç´¢å¼•æ“ å¢é‡æ•°æ®å­˜å‚¨ OPENTSDB æ•æ‰ç”¨æˆ·äº¤äº’æ•°æ® å¹¿å‘Šæ•ˆæœå’Œç‚¹å‡»æµ å†…å®¹æœåŠ¡ ä¿¡æ¯äº¤æ¢  1.8Hbaseä¸å…³ç³»å‹æ•°æ®åº“çš„åŒºåˆ«  HBase é‡Œé¢æœ‰ä»¥ä¸‹ 2 ä¸ªä¸»è¦æ¦‚å¿µï¼š  Rowkey: HBase ä¸­çš„è®°å½•æ˜¯æŒ‰ç…§ rowkey æ¥æ’åºçš„ï¼› Column familyï¼š(åˆ—æ—)æ˜¯åœ¨ç³»ç»Ÿå¯åŠ¨ä¹‹å‰é¢„å…ˆå®šä¹‰å¥½çš„ï¼›   HBase ä¼˜ç¼ºç‚¹ï¼š  ä¸æ”¯æŒæ¡ä»¶æŸ¥è¯¢ä»¥åŠ orderby ç­‰æŸ¥è¯¢ï¼› åˆ—å¯ä»¥åŠ¨æ€å¢åŠ ï¼Œåˆ—ä¸ºç©ºåˆ™ä¸å­˜å‚¨æ•°æ®ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ï¼› ä¼šè‡ªåŠ¨åˆ‡åˆ†æ•°æ®ï¼› å¯ä»¥æä¾›é«˜å¹¶å‘è¯»å†™æ“ä½œçš„æ”¯æŒï¼›   æ³¨æ„äº‹é¡¹  Row key è¡Œé”® (Row key)å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²(æœ€å¤§é•¿åº¦æ˜¯ 64KBï¼Œå®é™…åº”ç”¨ä¸­é•¿åº¦ä¸€èˆ¬ä¸º 10- 100bytes)ï¼Œåœ¨ hbase å†…éƒ¨ï¼Œrow key ä¿å­˜ä¸ºå­—èŠ‚æ•°ç»„ã€‚ åˆ—æ—æ˜¯è¡¨çš„ schema çš„ä¸€éƒ¨åˆ†(è€Œåˆ—ä¸æ˜¯)ï¼Œå¿…é¡»åœ¨ä½¿ç”¨è¡¨ ä¹‹å‰å®šä¹‰ã€‚ HBase ä¸­é€šè¿‡ row å’Œ columns ç¡®å®šçš„ä¸ºä¸€ä¸ªå­˜è´®å•å…ƒç§°ä¸º cellã€‚æ¯ä¸ª cell éƒ½ä¿å­˜ç€åŒä¸€ä»½æ•°æ®çš„ å¤šä¸ªç‰ˆæœ¬ cell ä¸­çš„æ•°æ®æ˜¯æ²¡æœ‰ ç±»å‹çš„ï¼Œå…¨éƒ¨æ˜¯å­—èŠ‚ç å½¢å¼å­˜è´®ã€‚ HBASE å¼ºä¾èµ– hadoop çš„ hdfs ç³»ç»Ÿï¼Œhbase çš„ç‰ˆæœ¬éœ€è¦å’Œ hadoop çš„ç‰ˆæœ¬åŒ¹é…ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸€äº›æ„ å¤–æƒ…å†µ    1.9hbaseçš„å¯åŠ¨å‘½ä»¤  å¯åŠ¨å•æœºæ¨¡å¼ï¼šbin/start-hbase.sh æŸ¥çœ‹è¿›ç¨‹ï¼šjps å¯åŠ¨é›†ç¾¤ï¼šstart-hbaseã€‚sh  2.HbaseåŸºç¡€ 2.1 Hbaseè¡¨çš„ç‰©ç†å±æ€§  Table åœ¨è¡Œçš„æ–¹å‘ä¸Šåˆ†å‰²ä¸ºå¤šä¸ª Regionï¼› Region æŒ‰å¤§å°åˆ†å‰²çš„ï¼Œæ¯ä¸ªè¡¨å¼€å§‹åªæœ‰ä¸€ä¸ª regionï¼Œéšç€æ•°æ®å¢å¤šï¼Œregion ä¸æ–­å¢ å¤§ï¼Œå½“å¢å¤§åˆ°ä¸€ä¸ªé˜€å€¼çš„æ—¶å€™ï¼Œregion å°±ä¼šç­‰åˆ†ä¼šä¸¤ä¸ªæ–°çš„ regionï¼Œä¹‹åä¼šæœ‰è¶Šæ¥ è¶Šå¤šçš„ regionï¼› Region æ˜¯ Hbase ä¸­åˆ†å¸ƒå¼å­˜å‚¨å’Œè´Ÿè½½å‡è¡¡çš„æœ€å°å•å…ƒï¼Œä¸åŒ Region åˆ†å¸ƒåˆ°ä¸åŒ RegionServer ä¸Šã€‚  2.2Region   Regionç»„æˆ\n Region ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ª Store ç»„æˆï¼Œæ¯ä¸ª store ä¿å­˜ä¸€ä¸ª columns familyï¼› æ¯ä¸ª Strore åˆç”±ä¸€ ä¸ª memStore å’Œ 0 è‡³å¤šä¸ª StoreFile ç»„æˆï¼ŒStoreFile åŒ…å« HFileï¼›memStore å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œ StoreFile å­˜å‚¨åœ¨ HDFS ä¸Š Region è™½ç„¶æ˜¯åˆ†å¸ƒå¼å­˜å‚¨çš„æœ€å°å•å…ƒï¼Œä½†å¹¶ä¸æ˜¯å­˜å‚¨çš„æœ€å°å•å…ƒï¼ŒRegion é»˜è®¤å¤§å°æ˜¯ 256Mï¼Œå½“ä¸€ä¸ª Region å¤§å°è¶…è¿‡è®¾ç½®çš„å€¼ï¼ŒHmaster ä¼šå°† Region æ‹†åˆ†ä¸º 2 ä¸ªå­ Regionï¼ŒåŒæ—¶çˆ¶ Region ä¸‹çº¿ã€‚    RegionServer(DML)\n Region server ç»´æŠ¤ Master åˆ†é…ç»™å®ƒçš„ regionï¼Œå¤„ç†å¯¹è¿™äº› region çš„ IO è¯·æ±‚ ï‚² Region server è´Ÿè´£åˆ‡åˆ†åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å˜å¾—è¿‡å¤§çš„ regio    Hmaster\n ç®¡ç†ç”¨æˆ·å¯¹ Table çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œ ï‚² ç®¡ç† RegionServer çš„è´Ÿè½½å‡è¡¡ã€è°ƒæ•´ Region çš„åˆ†å¸ƒ ï‚² åœ¨ Region Split åï¼Œå°†æ–° Region åˆ†å¸ƒåˆ°ä¸åŒçš„RegionServerã€‚ ï‚² åœ¨ RegionServer å®•æœºåï¼Œé‚£è¯¥ RegionServer ä¸Šæ‰€ç®¡ç†çš„ Region ç”± HMaster è¿›è¡Œé‡æ–°åˆ† é…ã€‚    ç®¡ç†ç±»\n  HbaseAdminï¼šæä¾›æ¥å£å…³ç³» HBase æ•°æ®åº“ä¸­çš„è¡¨ä¿¡æ¯\n  1 2  HBaseAdmin admin = new HBaseAdmin(config);     HTableDescriptor:ç»´æŠ¤è¡¨çš„ä¿¡æ¯\n  1 2 3  setMaxFileSizeï¼ŒæŒ‡å®šæœ€å¤§çš„ region size setMemStoreFlushSize æŒ‡å®š memstore flush åˆ° HDFS ä¸Šçš„æ–‡ä»¶å¤§å° é€šè¿‡ addFamily æ–¹æ³•å¢åŠ  famil     HColumnDescriptor: ä»£è¡¨çš„æ˜¯ column çš„ schemaï¼Œ\n  1 2 3 4 5 6 7 8 9 10  setTimeToLive:æŒ‡å®šæœ€å¤§çš„ TTL,å•ä½æ˜¯ ms,è¿‡æœŸæ•°æ®ä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚ ï‚² setInMemory:æŒ‡å®šæ˜¯å¦æ”¾åœ¨å†…å­˜ä¸­ï¼Œå¯¹å°è¡¨æœ‰ç”¨ï¼Œå¯ç”¨äºæé«˜æ•ˆç‡ã€‚é»˜è®¤å…³é—­ ï‚² setBloomFilter:æŒ‡å®šæ˜¯å¦ä½¿ç”¨ BloomFilter,å¯æé«˜éšæœºæŸ¥è¯¢æ•ˆç‡ã€‚é»˜è®¤å…³é—­ ï‚² setCompressionType:è®¾å®šæ•°æ®å‹ç¼©ç±»å‹ã€‚é»˜è®¤æ— å‹ç¼©ã€‚ ï‚² setMaxVersions:æŒ‡å®šæ•°æ®æœ€å¤§ä¿å­˜çš„ç‰ˆæœ¬ä¸ªæ•°ã€‚é»˜è®¤ä¸º 3ã€‚ HTableDescriptor htd =newHTableDescriptor(tablename); htd.addFamily(new HColumnDescriptor(â€œmyFamilyâ€));       3. 1.HBaseçš„å­˜å‚¨é€»è¾‘  HBase çš„è¡¨ä¸­çš„æ•°æ®åˆ†éš”æ˜¯ä½¿ç”¨åˆ—æ—è€Œä¸æ˜¯åˆ—ã€‚æ¯ä¸ªåˆ—æ—å¯¹åº”ä¸€ä¸ª HFile æ–‡ä»¶ï¼Œåœ¨ HDFS ä¸Šä»¥ä¸€ä¸ª ç›®å½•çš„å½¢å¼å­˜æ”¾ã€‚ Key-Valueå­˜å‚¨æ¨¡å‹ï¼š  keyæ˜¯RowKeyï¼ŒValueæ˜¯åˆ—æ—çš„é›†åˆã€‚\u0026mdash;\u0026gt;ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡rowkeyæ£€ç´¢åˆ°value è¡Œé”®çš„è®¾è®¡ï¼šã€  è¡¨æ‰«ææ˜¯å¯¹è¡Œé”®çš„æ“ä½œï¼Œæ‰€ä»¥ï¼Œè¡Œé”®çš„è®¾è®¡æ§åˆ¶ç€ä½ èƒ½å¤Ÿé€šè¿‡ HBase æ‰§è¡Œçš„å®æ—¶/ç›´æ¥è·å–é‡ã€‚ å½“åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œ HBase æ—¶ï¼Œå®ƒåœ¨ HDFS ä¸Šéƒ¨è¿è¡Œï¼Œæ•°æ®åŸºäºè¡Œé”®é€šè¿‡ HDFSï¼Œå¦‚æœä½ æ‰€æœ‰çš„ è¡Œé”®éƒ½æ˜¯ä»¥ user-å¼€å¤´ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½ä½ å¤§éƒ¨åˆ†æ•°æ®éƒ½è¢«åˆ†é…ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼ˆè¿èƒŒäº†åˆ†å¸ƒå¼æ•°æ® çš„åˆè¡·ï¼‰ï¼Œå› æ­¤ï¼Œä½ çš„è¡Œé”®åº”è¯¥æ˜¯æœ‰è¶³å¤Ÿçš„å·®å¼‚æ€§ä»¥ä¾¿åˆ†å¸ƒå¼åœ°é€šè¿‡æ•´ä¸ªéƒ¨ç½²ã€‚     åœ¨Hbaseä¸­è¡¨å¯ä»¥è®¾è®¡ä¸ºé«˜è¡¨(tall-narrow table)å’Œå®½è¡¨(flat-wide table)çš„å½¢å¼ é«˜è¡¨æŒ‡çš„æ˜¯åˆ—å°‘è¡Œå¤š å®½è¡¨åä¹‹  ","date":"2022-02-16T00:53:15+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/hbase/b3_hu2b7879216096d9603632c6f10931bc55_27420_120x120_fill_q75_box_smart1.jpg","permalink":"https://yuxin-zh.github.io/AllForOne/p/hbase/","title":"Hbase"},{"content":"[toc]\nHadoopç›¸å…³æ¦‚å¿µ BIg Data\n1 2 3 4  Volume Velocityï¼ˆå¿«é€Ÿï¼‰ Variety (ç»“æ„åŒ–æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®) Value(ä½ä»·å€¼å¯†åº¦)ï¼šä»·å€¼å¯†åº¦çš„å¤§å°ä¸æ•°æ®æ€»é‡çš„å¤§å°æˆåæ¯”   HIVEï¼šå­˜å‚¨ æŸ¥è¯¢å’Œåˆ†æå­˜å‚¨åœ¨hdfsä¸Šçš„å¤§é‡æ•°æ®\nç¼ºç‚¹ ï¼šä¸æ”¯æŒäº‹åŠ¡ï¼Œä¸å¯ä»¥ä¿®æ”¹æ•°æ®ï¼Œåªå¯ä»¥é€šè¿‡æ–‡ä»¶è¿½åŠ å’Œé‡æ–°ä¸Šä¼  é€Ÿåº¦å¾ˆæ…¢\nZOOkeeperâ€œzn+1å“¥æœåŠ¡å™¨å…è®¸næ­¤é”™è¯¯ã€‚\nç»“æ„åŒ–æ•°æ®\n1  æ•°æ®åº“è¿™ç§æœ‰äºŒç»´è¡¨æ ¼çš„   åŠç»“æ„åŒ–æ•°æ®\n1  ç±»ä¼¼äºä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å¯ä»¥å¯¼å…¥mysqlè¿™ç§ç»“æ„åŒ–æ•°æ®ä¸­   éç»“æ„åŒ–æ•°æ®\n1  æ— æ³•è½¬åŒ–ï¼Œè§†é¢‘ï¼Œpptç­‰   Hadoop\n1 2  åˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€æ¶æ„ï¼šå¤šå°æœåŠ¡å™¨å…±åŒå®ŒæˆæŸä¸€ä»»åŠ¡ ä¸»è¦è§£å†³æµ·é‡æ•°æ®çš„å­˜å‚¨å’Œåˆ†æè®¡ç®—   ä¸‰å¤§å‘è¡Œç‰ˆæœ¬\n1 2 3  Apache æœ€åŸºç¡€ Cloudera Horntownworks   Hadoopä¼˜åŠ¿\n1 2 3 4  é«˜å¯é æ€§ï¼šåº•å±‚ç»´æŠ¤å¤šä¸ªæ•°æ®å‰¯æœ¬ï¼Œå³ä½¿æŸä¸ªå…ƒç´ æˆ–å­˜å‚¨å‡ºç°æ•…éšœï¼Œdata-loss is avoided é«˜æ‰©å±•æ€§ï¼šåœ¨é›†ç¾¤é—´åˆ†é…ä»»åŠ¡æ•°æ®ï¼Œå¯æ–¹ä¾¿æ‰©å±•èŠ‚ç‚¹ï¼ŒåŠ¨æ€å¢åŠ å’ŒåŠ¨æ€åˆ é™¤ é«˜æ•ˆæ€§ï¼šhadoopæ˜¯å¹¶è¡Œå·¥ä½œçš„ é«˜å®¹é”™æ€§ï¼šèƒ½å¤Ÿè‡ªåŠ¨å°†å¤±è´¥ä»»åŠ¡é‡æ–°åˆ†é…   hadoopç»„æˆï¼ˆimportantï¼‰\n1 2 3 4 5 6 7 8  Hadoop 1.x: HDFS:æ•°æ®å­˜å‚¨ Mapduceï¼šè®¡ç®—+èµ„æºè°ƒåº¦ Commonï¼šè¾…åŠ©å·¥å…· Hadoop 2.x: å¤šäº†Yarnç”¨äºèµ„æºè°ƒåº¦ Hadoop 3.xï¼š åœ¨ç»„æˆä¸Šæ²¡æœ‰åŒºåˆ«   HDFSæ•°æ®å­˜å‚¨\n1 2 3 4 5 6 7 8  NameNode:å­˜å‚¨æ–‡ä»¶çš„å…ƒæ•°æ®ï¼Œå¦‚æ–‡ä»¶åï¼Œæ–‡ä»¶ç›®å½•ç»“æ„ï¼Œæ–‡ä»¶å±æ€§ç­‰ ä¿å­˜åœ¨linuxä¸­ DataNodeï¼šå­˜å‚¨æ–‡ä»¶å—æ•°æ®ï¼Œä»¥åŠå¿«æ•°æ®çš„æ ¡éªŒå’Œ{ æ–‡ä»¶å—ï¼šæœ€åŸºæœ¬çš„å­˜å‚¨å•ä½ HDFSé»˜è®¤çš„blockå¤§å°æ˜¯64MBï¼ˆè€ç‰ˆæœ¬) ä¸åŒäºæ™®é€šæ–‡ä»¶ç³»ç»Ÿçš„æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶å°äºä¸€ä¸ªæ•°æ®å—çš„å¤§å°ï¼Œå¹¶ä¸å ç”¨æ•´ä¸ªæ•°æ®å—å­˜å‚¨ç©ºé—´ Replicationï¼šå¤šå¤æœ¬ é»˜è®¤æ˜¯ä¸‰ä¸ªï¼Œå¯é€šè¿‡é…ç½®æ–‡ä»¶é…ç½® } 2NN:æ¯éš”ä¸€æ®µæ—¶é—´å¯¹NameNodeå…ƒæ•°æ®å¤‡ä»½,åªèƒ½æ¢å¤ä¸€éƒ¨åˆ†æ•°æ®è€Œéæ‰€æœ‰   å…³äºreplicationçš„è§£æï¼šYarnæ¶æ„\n1 2 3 4 5 6 7 8 9 10 11 12 13  Resource Manager:ç®¡ç†æ•´ä¸ªé›†ç¾¤èµ„æº rmå°†èµ„æºéƒ¨ä»½å®‰æ’ç»™åŸºç¡€å¤§çš„Node Manager { *NMéµå¾ªæ¥è‡ªRMçš„ä¸€äº›æŒ‡ä»¤æ¥ç®¡ç†å•ä¸€èŠ‚ç‚¹ä¸Šçš„å¯ç”¨èµ„æº *AMè´Ÿè´£ä¸RMåå•†èµ„æºå¹¶äºNMåˆä½œå¯åŠ¨å®¹å™¨ } Node Manager:ç®¡ç†å•ä¸ªèŠ‚ç‚¹çš„æœåŠ¡å™¨èµ„æº æ˜¯yarnä¸­æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„ä»£ç† ä¸RMé€šè®¯ ç›‘ç£containerçš„ç”Ÿå‘½å‘¨æœŸ ApplicationMasterï¼šå•ä¸ªè¿è¡Œä»»åŠ¡çš„boss æµç¨‹å¦‚ä¸‹ å’Œrmåå•†ï¼Œè·å–èµ„æº é€šè¿‡rmæ¥è·å–ä»»åŠ¡ å’ŒNMå¯åŠ¨ä»»åŠ¡ Mapæˆ–Reduce ---------------\tContainerï¼šå®¹å™¨ï¼Œç›¸å½“äºäºä¸€å°ç‹¬ç«‹æœåŠ¡å™¨ï¼Œå°è£…ä»»åŠ¡è¿è¡Œéœ€è¦çš„èµ„æº å°è£…çš„æ˜¯æŸä¸ªDataNodeèŠ‚ç‚¹ä¸Šçš„èµ„æº AppMasterè¯·æ±‚èµ„æºæ—¶ï¼ŒRMä»¥containerçš„å½¢å¼è¿”å›èµ„æº Scheduler:èµ„æºè°ƒåº¦å™¨æ ¹æ®é˜Ÿåˆ—å®¹é‡ï¼Œé˜Ÿåˆ—é™åˆ¶ï¼Œä¸ºæ¯ä¸ªåº”ç”¨åˆ†é…ä¸€å®šçš„èµ„æºã€‚ï¼ˆåªæ˜¯å•çº¯çš„èµ„æºè°ƒåº¦ï¼Œä¸å‚ä¸ä»»ä½•ä»»åŠ¡çŠ¶æ€ç®¡ç†ï¼‰   MapReduceæ¶æ„\n1  è®¡ç®—åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šMap å’ŒReduce   HDFS\u0026amp;Yarn\u0026amp;MapReduce\n1  remain to be done   Hadoopè¿è¡Œæ¨¡å¼\n1 2 3  Local:æ•°æ®å­˜å‚¨å†linuxæœ¬åœ°ï¼Œä»æœ¬åœ°è¯»å– ~æµ‹è¯•å¶å°”ä¼šç”¨ ä¼ªåˆ†å¸ƒå¼ï¼ˆpseudo-distributedï¼‰ï¼šæ•°æ®å­˜å‚¨åœ¨HDFS ~å…¬å¸æ¯”è¾ƒå·®é’± å®Œå…¨åˆ†å¸ƒå¼ï¼ˆfully-distributedï¼‰:æ•°æ®ä¹Ÿæ˜¯å­˜å‚¨åœ¨HDFSï¼Œä½†æ˜¯å¤šå°æœåŠ¡å™¨å·¥ä½œ ~å¤§é‡ä½¿ç”¨   tip\n1  åç»­å†™çš„mapreduceç¨‹åºå¿…é¡»æŒ‡å®šå¯¹åº”çš„è¾“å…¥è·¯å¾„å’Œè¾“å‡ºè·¯å¾„ï¼Œè€Œä¸”è¾“å‡ºè·¯å¾„è¿˜ä¸èƒ½å­˜åœ¨ï¼Œå­˜åœ¨çš„è¯ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚ Get it!   Hadoopå®˜æ–¹æ–‡æ¡£ï¼šFileSystem (Apache Hadoop Main 3.3.1 API)\nHDFS Introduction åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå»ºç«‹åœ¨ä¸€æ¬¡å†™å…¥ï¼Œå¤šæ¬¡è¯»å–çš„æ€æƒ³ä¸Šã€‚\nä¸€ä¸ªhdfsé›†ç¾¤æ˜¯ç”±ä¸€ä¸ªnamenodeå’Œå¤šä¸ªdatanodeå½¢æˆï¼Œå†…éƒ¨æœºåˆ¶æ˜¯å°†ä¸€ä¸ªæ–‡ä»¶åˆ†å‰²æˆä¸€ä¸ªæˆ–å¤šä¸ªçš„blockï¼Œè¿™äº›å—å‚¨å­˜åœ¨ä¸€ç»„æ•°æ®èŠ‚ç‚¹ä¸­ã€‚\nnamenodeè´Ÿè´£æ–‡ä»¶æˆ–ç›®å½•çš„â€œæ‰“å¼€ï¼Œå…³é—­ï¼Œé‡å‘½åç­‰â€,å¹¶ç¡®å®šå—ä¸æ•°æ®èŠ‚ç‚¹çš„æ˜ å°„ã€‚è€Œæ•°æ®èŠ‚ç‚¹è´Ÿè´£æ¥è‡ªæ–‡ä»¶ç³»ç»Ÿå®¢æˆ·çš„è¯»å†™è¯·æ±‚\nHDFS å—  é»˜è®¤çš„æœ€åŸºæœ¬çš„å­˜å‚¨å•ä½æ˜¯64Mçš„æ•°æ®å—**ï¼ˆé»˜è®¤å¤§å°åœ¨hadoop2.xç‰ˆæœ¬ä¸­æ˜¯128Mï¼Œè€ç‰ˆæœ¬ä¸­æ˜¯64Mï¼‰** HDFSçš„æ–‡ä»¶æ˜¯è¢«åˆ†æˆ64Mä¸€å—çš„æ•°æ®å—è¿›è¡Œå­˜å‚¨çš„ HDFSä¸­è‹¥ä¸€ä¸ªæ–‡ä»¶å¤§å°å°äº64Mï¼Œå¹¶ä¸å ç”¨æ•´ä¸ªå­˜å‚¨ç©ºé—´  1ï¼‰hadoop blockå­˜æ”¾ç­–ç•¥  ç¬¬ä¸€ä¸ªblockæ”¾åœ¨clientæ‰€åœ¨çš„nodeé‡Œé¢ ç¬¬äºŒä¸ªæ”¾åœ¨ä¸ç¬¬ä¸€ä¸ªä¸åŒçš„æœºæ¶ä¸­çš„nodeä¸­ ç¬¬ä¸‰ä¸ªæ”¾åœ¨ä¸ç¬¬ä¸€ä¸ªå—çš„åŒä¸€ä¸ªæœºæ¶çš„ä¸ç”¨nodeä¸­  2ï¼‰NameNodeå’ŒDataNode  NameNode(å…ƒæ•°æ®èŠ‚ç‚¹)ï¼šç”¨æ¥ç®¡ç†æ–‡ä»¶ç³»ç»Ÿçš„å‘½åç©ºé—´  å°†æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„å…ƒæ•°æ®ä¿å­˜åœ¨ä¸€ä¸ªsystem treeä¸Šï¼ˆ å…ƒæ•°æ® ï¼šæŒ‡ç”¨æ¥æè¿°ä¸€ä¸ª æ–‡ä»¶ çš„ç‰¹å¾çš„ç³»ç»Ÿæ•°æ®ï¼Œè¯¸å¦‚è®¿é—®æƒé™ã€ æ–‡ä»¶ æ‹¥æœ‰è€…ã€ä»¥åŠ æ–‡ä»¶ æ•°æ®å—çš„åˆ†å¸ƒä¿¡æ¯ç­‰ç­‰ï¼‰ ä¹ŸåŒæ—¶ä¼šåœ¨ç¡¬ç›˜ä¸Šä¿å­˜æˆè¿™äº›æ–‡ä»¶ï¼šnamespace image å’Œeditlog ä¹Ÿå­˜å‚¨äº†ä¸€ä¸ªæ–‡ä»¶åŒ…å«å“ªäº›æ•°æ®å—ï¼Œåˆ†å¸ƒåœ¨å“ªäº›æ•°æ®èŠ‚ç‚¹ä¸Š æ³¨æ„ï¼šè¿™äº›ä¿¡æ¯å¹¶ä¸çœŸæ­£å­˜å‚¨åœ¨ç¡¬ç›˜ è€Œæ˜¯å­˜æ”¾åœ¨æ•°æ®èŠ‚ç‚¹ä¸­ clientå’Œnamenodeå¯ä»¥å‘æ•°æ®èŠ‚ç‚¹è¯·æ±‚å†™å…¥æˆ–è€…è¯»å‡ºæ•°æ®å—ï¼Œå¹¶å‘¨æœŸæ€§çš„å‘namenodeæ±‡æŠ¥å…¶å­˜å‚¨çš„æ•°æ®å—ä¿¡æ¯ å…ƒæ•°æ®èŠ‚ç‚¹ç›®å½•ç»“æ„ï¼šåœ¨hdfs-site.xmlä¸­é…ç½®dfs.name.dirå‚æ•°    1 2 3 4 5  namespaceID=123214214 æ–‡ä»¶ç³»ç»Ÿçš„å”¯ä¸€æ ‡è¯†ç¬¦ åœ¨æ–‡ä»¶ç³»ç»Ÿåˆå§‹åŒ–æ—¶ç”Ÿæˆçš„ ClusterID=xxxxxxxxx ç³»ç»Ÿç”Ÿæˆæˆ–æ‰‹åŠ¨æŒ‡å®šçš„é›†ç¾¤IDï¼Œå¯ä»¥åœ¨-clusteidé€‰é¡¹ä¸­ä½¿ç”¨ cTime=0 0æ­¤å¤„æ ‡è¯†namenodeçš„åˆ›å»ºæ—¶é—´ï¼Œæ›´æ–°ndåä¼šæ›´æ–°æ—¶é—´æˆ³ storageType=NAME_NODE è¡¨ç¤ºæ­¤æ–‡ä»¶å¤¹ä¸­ä¿å­˜çš„æ˜¯å…ƒæ•°æ®èŠ‚ç‚¹çš„æ•°æ®ç»“æ„ LayoutVersion ä¿å­˜æ ¼å¼ç‰ˆæœ¬å·   checkpointçš„ä½œç”¨ï¼š1ï¼‰ä¿è¯æ•°æ®åº“çš„ä¸€è‡´æ€§ï¼Œè¿™æ˜¯æŒ‡å°†è„æ•°æ®å†™å…¥åˆ°ç¡¬ç›˜ï¼Œä¿è¯å†…å­˜å’Œç¡¬ç›˜ä¸Šçš„æ•°æ®æ˜¯ä¸€æ ·çš„;2ï¼‰ç¼©çŸ­å®ä¾‹æ¢å¤çš„æ—¶é—´\n3ï¼‰HDFSé€šä¿¡åè®® 4ï¼‰HDFSçš„å®‰å…¨æ¨¡å¼ 5ï¼‰å®¢æˆ·ç«¯è¯»æ–‡ä»¶ 1 2 3 4  //å·¥å…·ç±»è·å–FileSystem  String uri = \u0026#34;åŸŸå\u0026#34;; //like \u0026#34;hdfs://niit1:9000\u0026#34;  Configuration conf = new Configuration(); FileSystem fs= FileSystem.get(URI.create(uri),conf,\u0026#34;ä½ çš„ç”¨æˆ·å,ä¹Ÿå¯ä»¥ä¸åŠ ï¼ŒåŒºåˆ«å»ºè®®æŸ¥é˜…å®˜æ–¹API\u0026#34;);   1 2 3 4 5 6 7 8 9 10  String uri = \u0026#34;hdfs://niit1:9000\u0026#34;; Configuration conf = new Configuration(); FileSystem fs= FileSystem.get(URI.create(uri),conf); byte[] file_content_buff = \u0026#34;hello hadoop world,test write file! \\n\u0026#34;.getBytes();//ä»¥å­—èŠ‚æ•°ç»„çš„å½¢å¼è¯»å–å­—ç¬¦ä¸²  Path dfs = new Path(\u0026#34;/user/root/niit/nn.txt\u0026#34;); //å†™å…¥æ–‡ä»¶è·¯å¾„  FSDataOutputStream outputStream = fs.create(dfs); //create fileä¸¤ç§å½¢å¼ 1ï¼‰ä½¿ç”¨setpermissionæä¾›çš„æƒé™æ¥è®¾ç½®æƒé™ 2ï¼‰å°†é…ç½®ä¸­çš„umaskæ”¹ä¸º0---\u0026gt;ä½†å¹¶éçº¿ç¨‹å®‰å…¨çš„  outputStream.write(file_content_buff,0,file_content_buff.length);//å†™å…¥æ–‡ä»¶  fs.close();      static FileSystem get(URI uri, Configuration conf)Get a FileSystem for this URI\u0026rsquo;s scheme and authority.     static FileSystem get(URI uri, Configuration conf, String user)Get a FileSystem instance based on the uri, the passed in configuration and the user.    6ï¼‰å®¢æˆ·ç«¯å†™æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11  FileSystem fs = (new GetFileSystem()).getSystem(); //GetFileSystemæ˜¯ä¸Šé¢çš„å·¥å…·ç±» ç”¨æ¥è·å–FileSystem  InputStream in =null; try { //Opens an FSDataInputStream at the indicated Path.  in = fs.open(new Path(\u0026#34;/user/root/niit/nn1.txt\u0026#34;)); IOUtils.copyBytes(in,System.out,4096,false); //(InputStream in, OutputStream out, int buffSize, boolean close)  } finally { IOUtils.closeStream(in); }   7ï¼‰æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°HDFS ä½¿ç”¨ copyFromLocalFileæ¥å£\n1 2 3 4 5 6  public static void main(String[] args) throws IOException { FileSystem fs = (new GetFileSystem()).getSystem(); Path src = new Path(\u0026#34;æœ¬åœ°æ–‡ä»¶è·¯å¾„\u0026#34;); Path desc = new Path(\u0026#34;ç›®æ ‡è·¯å¾„\u0026#34;); fs.copyFromLocalFile(src,desc); }   8ï¼‰é‡å‘½åæ–‡ä»¶ ä½¿ç”¨renameï¼ˆæŠ½è±¡ç±»ï¼‰è¿”å›å¸ƒå°”å€¼\n1 2 3 4 5 6  FileSystem fs = (new GetFileSystem()).getSystem(); //å·²ç»åœ¨classpathä¸‹é¢åŠ è½½äº†hdfs-site.xmlå’Œcore-site.xmlçš„é…ç½®æ–‡ä»¶ï¼Œåˆ™ä¼šè‡ªåŠ¨ç†è§£è¾“å…¥çš„æ–‡ä»¶è·¯å¾„ä¸ºhdfsçš„  Path CurrentName = new Path(\u0026#34;å½“å‰æ–‡ä»¶è·¯å¾„åŠæ–‡ä»¶å\u0026#34;); Path desName = new Path(\u0026#34;ç›®æ ‡æ–‡ä»¶å\u0026#34;); //æ˜¯å¦å¯ä»¥åŒæ—¶ä¿®æ”¹æ–‡ä»¶è·¯å¾„?YESSSSSSS!!!!  boolean result = fs.rename(CurrentName,desName); System.out.println(result==true?\u0026#34;ä¿®æ”¹æˆåŠŸ\u0026#34;:\u0026#34;ä¿®æ”¹å¤±è´¥\u0026#34;);   9ï¼‰Delete File \u0026amp; Directory 1 2 3 4  FileSystem fs = (new GetFileSystem()).getSystem(); Path delef = new Path(\u0026#34;åˆ é™¤çš„ç›®æ ‡åœ°å€\u0026#34;); boolean deleRe = fs.delete(delef,true); System.out.println(deleRe==true? \u0026#34;yes\u0026#34;:\u0026#34;no\u0026#34;);   10ï¼‰åˆ›å»ºç›®å½•å’Œéå†ç›®å½• åˆ›å»ºè¿‡ç¨‹å’Œåˆ é™¤ç›¸ä¼¼ æ— éæ˜¯ä½¿ç”¨äº†mkdirsæ¥å£ç½¢äº†\néå†ç›®å½•\n1 2 3 4 5 6 7 8 9  public static void main(String[] args) throws IOException { FileSystem fs = (new GetFileSystem()).getSystem(); FileStatus[] fsstatus = fs.listStatus(new Path(\u0026#34;/user/root\u0026#34;)); for(FileStatus status : fsstatus) if(status.isFile()) System.out.println(\u0026#34;file:\u0026#34;+status.getPath().toString()); else System.out.println(\u0026#34;directory:\u0026#34;+status.getPath().toString()); }      abstract FileStatus[] listStatus(Path f)List the statuses of the files/directories in the given path if the path is a directory.     FileStatus[] listStatus(Path[] files)Filter files/directories in the given list of paths using default path filter.   FileStatus[] listStatus(Path[] files, PathFilter filter)Filter files/directories in the given list of paths using user-supplied path filter.   FileStatus[] listStatus(Path f, PathFilter filter)Filter files/directories in the given path using the user-supplied path filter.    HadoopShell Commands 1  é˜¿å·´é˜¿å·´   Hadoop IO 1ï¼‰åºåˆ—åŒ– åºåˆ—åŒ–ï¼šå°†ç»“æ„åŒ–å¯¹è±¡è½¬åŒ–ä¸ºå­—èŠ‚æµä»¥ä¾¿äºé€šè¿‡ç½‘ç»œè¿›è¡Œä¼ è¾“æˆ–å†™å…¥æŒä¹…å­˜å‚¨çš„è¿‡ç¨‹ ååºåˆ—åŒ–åˆ™åä¹‹\n  ç‰¹ç‚¹ï¼š\n  Compact: æ–¹ä¾¿ç½‘ç»œä¼ è¾“\n  Fastï¼šæ€§èƒ½å¥½\n  Extensibleï¼šåè®®æœ‰å˜åŒ– å¯ä»¥æ”¯æŒæ–°çš„éœ€æ±‚ï¼ˆåŠ¨æ€ï¼‰\n  Interoperableï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¸ä¾èµ–è¯­è¨€çš„å®ç°ï¼ˆæ€ä¹ˆå»ç†è§£ï¼‰\n  hadoopä½¿ç”¨writablesï¼Œæ»¡è¶³compact fast ä½†æ˜¯ä¸æ»¡è¶³æ‹“å±•æ€§ ï¼ˆè¿™ç§åºåˆ—åŒ–æ—¶hadoopè‡ªå·±å®ç°çš„ï¼Œè€Œä¸æ˜¯javaçš„åºåˆ—åŒ–ï¼‰\n1 2 3 4 5 6 7 8 9 10  public interface Serialization\u0026lt;T\u0026gt; { //å®¢æˆ·ç«¯ç”¨äºåˆ¤æ–­åºåˆ—åŒ–å®ç°æ˜¯å¦æ”¯æŒè¯¥ç±»å¯¹è±¡  boolean accept(Class\u0026lt;?\u0026gt; c); //è·å¾—ç”¨äºåºåˆ—åŒ–å¯¹è±¡çš„ Serializer å®ç°  Serializer\u0026lt;T\u0026gt; getSerializer(Class\u0026lt;T\u0026gt; c); //è·å¾—ç”¨äºååºåˆ—åŒ–å¯¹è±¡çš„ Deserializer å®ç°  Deserializer\u0026lt;T\u0026gt; getDeserializer(Class\u0026lt;T\u0026gt; c); }       2ï¼‰åºåˆ—åŒ–æµç¨‹  å¦‚æœéœ€è¦**ä½¿ç”¨ Serializer **æ¥æ‰§è¡Œåºåˆ—åŒ–ï¼Œä¸€èˆ¬éœ€è¦é€šè¿‡ open()æ–¹æ³•æ‰“å¼€ Serializerï¼Œopen()æ–¹æ³•ä¼ å…¥ä¸€ä¸ª åº•å±‚çš„æµå¯¹è±¡ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨serialize()æ–¹æ³•åºåˆ—åŒ–å¯¹è±¡åˆ°åº•å±‚çš„æµä¸­ã€‚æœ€ååºåˆ—åŒ–ç»“æŸæ—¶ï¼Œé€šè¿‡ close()æ–¹æ³•å…³é—­ Serializerã€‚  1 2 3 4 5 6 7 8 9 10  public interface Serializer\u0026lt;T\u0026gt; { //ä¸ºè¾“å‡ºï¼ˆåºåˆ—åŒ–ï¼‰å¯¹è±¡åšå‡†å¤‡  void open(OutputStream out) throws IOException; //å°†å¯¹è±¡åºåˆ—åŒ–åˆ°åº•å±‚çš„æµä¸­  void serialize(T t) throws IOException; //åºåˆ—åŒ–ç»“æŸï¼Œæ¸…ç†  void close() throws IOException; }   3ï¼‰ååºåˆ—åŒ–   å¦‚æœè¦ä½¿ç”¨ deserializer æ¥æ‰§è¡Œååºåˆ—åŒ–ï¼Œä¸€èˆ¬éœ€è¦é€šè¿‡ open()æ–¹æ³•æ‰“å¼€ deserializerï¼Œopen()æ–¹æ³•ä¼ å…¥ ä¸€ä¸ªåº•å±‚çš„æµå¯¹è±¡ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨ deserializer()æ–¹æ³•ååºåˆ—åŒ–æµåˆ°å¯¹è±¡ä¸­ã€‚æœ€åååºåˆ—åŒ–ç»“æŸæ—¶ï¼Œ é€šè¿‡ close()æ–¹æ³•å…³é—­ Serializerã€‚\n1 2 3 4 5 6  public interface deserializer\u0026lt;T\u0026gt; { void open(InputStream in) throws IOException; T deserialize(T t) throws IOException; void close() throws IOException; }     4ï¼‰Writableæ¥å£  Hadoop çš„æ‰€æœ‰å¯åºåˆ—åŒ–å¯¹è±¡éƒ½å¿…é¡»å®ç° è¿™ä¸ªæ¥å£ã€‚Writable æ¥å£é‡Œæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ write æ–¹æ³•ï¼Œå°†å¯¹è±¡å†™å…¥å­—èŠ‚æµï¼Œå¦ä¸€ä¸ªæ˜¯ readFields æ–¹æ³•ï¼Œä»å­—èŠ‚æµè§£æå‡ºå¯¹è±¡ã€‚  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  public byte[] serialize() throws IOException { IntWritable intWritable = new IntWritable(12); //ç”Ÿæˆæµå¯¹è±¡  ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(); DataOutputStream dataOutputStream = new DataOutputStream(byteArrayOutputStream); //DataStreamå°è£…byteStream  //Serilization the data åºåˆ—åŒ–å¯¹è±¡åˆ°æµä¸­  intWritable.write(dataOutputStream); byte[] byteArray = byteArrayOutputStream.toByteArray(); dataOutputStream.close(); System.out.println(byteArray); return byteArray; } public int deserialize(byte [] barr) throws IOException { IntWritable intWritable=new IntWritable(); ByteArrayInputStream byteArrayinputStream = new ByteArrayInputStream(barr); DataInputStream dataInputStream= new DataInputStream(byteArrayinputStream); intWritable.readFields(dataInputStream); int data=intWritable.get(); return data; //writableå¿…ä¸å¯å°‘  }   5ï¼‰WritableComparable  WritableComparable æ¥å£æ˜¯å¯åºåˆ—åŒ–å¹¶ä¸”å¯æ¯”è¾ƒçš„æ¥å£ï¼ŒMapReduce ä¸­æ‰€æœ‰çš„ key å€¼ç±»å‹éƒ½å¿…é¡»å®ç° è¿™ä¸ªæ¥å£ã€‚  6ï¼‰å‹ç¼©:smile:  GZIP:  å‹ç¼©ç‡è¾ƒé«˜ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œhadoopæœ¬èº«å°±æ”¯æŒï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œæ”¯æŒ hadoop native åº“ ä¸æ”¯æŒsplit å½“æ¯ä¸ªæ–‡ä»¶å‹ç¼©ä¹‹ååœ¨ 130M ä»¥å†…çš„ï¼ˆ1 ä¸ªå—å¤§å°å†…ï¼‰ï¼Œéƒ½å¯ä»¥è€ƒè™‘ç”¨ gzip å‹ç¼©æ ¼å¼   LZOï¼š  å‹ç¼©é€Ÿåº¦å¾ˆå¿«ï¼Œå‹ç¼©ç‡åˆç†ï¼Œæ”¯æŒsplitï¼Œhadoopæœ€æµè¡Œçš„å‹ç¼©æ ¼å¼ å‹ç¼©ç‡æ¯”gzipä½ï¼Œhadoopæœ¬èº«å¹¶ä¸æ”¯æŒï¼Œéœ€è¦å®‰è£… åº”ç”¨åœºæ™¯ï¼šä¸€ä¸ªå¾ˆå¤§çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå‹ç¼©ä¹‹åè¿˜å¤§äº 200M ä»¥ä¸Šçš„å¯ä»¥è€ƒè™‘ï¼Œè€Œä¸”å•ä¸ªæ–‡ä»¶è¶Šå¤§ï¼Œlzo ä¼˜ç‚¹è¶Šè¶Šæ˜æ˜¾ã€‚   Snappy:  é«˜é€Ÿå‹ç¼©é€Ÿåº¦å’Œåˆç†çš„å‹ç¼©ç‡ï¼›æ”¯æŒ hadoop native åº“ ä¸æ”¯æŒ splitï¼›å‹ç¼©ç‡æ¯” gzip è¦ä½ï¼›hadoop æœ¬èº«ä¸æ”¯æŒï¼Œéœ€è¦å®‰è£…ï¼›linux ç³»ç»Ÿä¸‹æ²¡æœ‰å¯¹åº” çš„å‘½ä»¤ã€‚ åº”ç”¨åœºæ™¯ï¼šmapreduceä¸­mapè¾“å‡ºçš„æ•°æ®è¾ƒå¤§ï¼Œå¯ä½œä¸ºmapåˆ°reduceçš„ä¸­é—´æ•°æ®çš„å‹ç¼©æ ¼å¼   bzip2  æ”¯æŒ splitï¼›å…·æœ‰å¾ˆé«˜çš„å‹ç¼©ç‡ï¼Œæ¯” gzip å‹ç¼©ç‡éƒ½é«˜ï¼›hadoop æœ¬èº«æ”¯æŒï¼Œä½†ä¸æ”¯æŒ native å‹ç¼©/è§£å‹é€Ÿåº¦æ…¢ï¼›ä¸æ”¯æŒ nativeã€‚ é€‚åˆå¯¹é€Ÿåº¦è¦æ±‚ä¸é«˜ï¼Œä½†éœ€è¦è¾ƒé«˜çš„å‹ç¼©ç‡çš„æ—¶å€™ï¼Œå¯ä»¥ä½œä¸º mapreduce ä½œä¸šçš„è¾“å‡ºæ ¼ å¼ï¼›æˆ–è€…è¾“å‡ºä¹‹åçš„æ•°æ®æ¯”è¾ƒå¤§ï¼Œå¤„ç†ä¹‹åçš„æ•°æ®éœ€è¦å‹ç¼©å­˜æ¡£å‡å°‘ç£ç›˜ç©ºé—´å¹¶ä¸”ä»¥åæ•°æ®ç”¨å¾—æ¯” è¾ƒå°‘çš„æƒ…å†µï¼›æˆ–è€…å¯¹å•ä¸ªå¾ˆå¤§çš„æ–‡æœ¬æ–‡ä»¶æƒ³å‹ç¼©å‡å°‘å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶åˆéœ€è¦æ”¯æŒ splitï¼Œè€Œä¸”å…¼å®¹ä¹‹ å‰çš„åº”ç”¨ç¨‹åºï¼ˆå³åº”ç”¨ç¨‹åºä¸éœ€è¦ä¿®æ”¹ï¼‰çš„æƒ…å†µã€‚   CompressionCodec å¯¹æµè¿›è¡Œå‹ç¼©å’Œè§£å‹ç¼© æ¯ä¸€ç§ç¼–ç å™¨(Compressor)/è§£ç å™¨(Decompressor)æœ€åç»Ÿä¸€çš„äº¤ç”±ç¼–ç è§£ç å™¨(CompressionCodec) æ¥ç®¡ç†    æš‚æ—¶æ²¡ææ˜ç™½ å®ç°åŸç†ã€‚:sob: 7ï¼‰ç‰¹æ®Šæ–‡ä»¶å¤„ç† :cry:  éœ€æ±‚ï¼šåœ¨å¤„ç†å°æ–‡ä»¶ä¸Šä½æ•ˆç‡å’Œå°å·ç£ç›˜ç©ºé—´çš„é—®é¢˜ SOlUTION:ä½¿ç”¨å®¹å™¨ï¼šSequenceFile MapFile  SequenceFileï¼šä¸€ç§äºŒè¿›åˆ¶æ–‡ä»¶æ”¯æŒï¼Œç›´æ¥å°†\u0026lt;key,value\u0026gt;å¯¹åºåˆ—åŒ–åˆ°æ–‡ä»¶ä¸­ã€‚\n æ”¯æŒå‹ç¼©ï¼Œå®šåˆ¶åŸºäºrecordæˆ–blockå‹ç¼© ç®€å•  åœ¨SequenceFileæ–‡ä»¶ä¸­ï¼Œæ¯ä¸€ä¸ªKVè¢«çœ‹ä½œä¸€æ¡è®°å½•ï¼Œæ‰€ä»¥åŸºäºRecordçš„å‹ğŸ”’ç­–ç•¥ï¼Œå¯ä»¥æ”¯æŒä¸‰ç§å‹ç¼©ç±»å‹ï¼š\n Noneï¼šå¯¹recordä¸å‹ç¼© RECORD:ä»…ä»…å‹ç¼©æ¯ä¸€ä¸ªrecordä¸­çš„value BLOCK:å°†ä¸€ä¸ªblockä¸­æ‰€æœ‰recordså‹ç¼©  åˆ›å»ºSequenceFile\n1  Remains to be done;   RPCåè®® 1ï¼‰å®šä¹‰ è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œå…è®¸è®¡ç®—æœºç¨‹åºè¿œç¨‹è°ƒç”¨å¦ä¸€å°è®¡ç®—æœºçš„å­ç¨‹åºã€‚\n2ï¼‰Feature  é€æ˜æ€§ï¼šè¿œç¨‹è°ƒç”¨å…¶ä»–æœºå™¨ä¸Šçš„ç¨‹åºï¼Œå¯¹ç”¨æˆ·æ¥è¯´å°±åƒæ˜¯è°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ï¼› é«˜æ€§èƒ½ï¼šRPC server èƒ½å¤Ÿå¹¶å‘å¤„ç†å¤šä¸ªæ¥è‡ª Client çš„è¯·æ±‚  3ï¼‰C/S æ¨¡å¼  Client ç«¯å‘é€ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„è¯·æ±‚ä¿¡æ¯åˆ° Server Server æ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚ä»¥åï¼Œæ ¹æ®å‘é€è¿‡æ¥çš„å‚æ•°è°ƒç”¨ç›¸åº”çš„ç¨‹åºï¼Œç„¶åæŠŠè‡ªå·±è®¡ç®—å¥½çš„ç»“æœ å‘é€ç»™ Client ç«¯ï¼› Client ç«¯æ¥æ”¶åˆ°ç»“æœåç»§ç»­è¿è¡Œ  Hadoop prcæœºåˆ¶ 1.RPCè®¾è®¡è¦æ±‚  åºåˆ—åŒ–å±‚ï¼šCä¸Sç«¯é€šä¿¡é‡‡ç”¨äº†hadoopçš„åºåˆ—åŒ–ç±»æˆ–è‡ªå®šWritableç±»å‹ å‡½æ•°è°ƒç”¨å±‚ï¼šHadoop RPCé€šè¿‡åŠ¨æ€ä»£ç†ä»¥åŠjavaåå°„å®ç°å‡½æ•°è°ƒç”¨ ç½‘ç»œä¼ è¾“å±‚ï¼šé‡‡ç”¨äº†åŸºäºTCP/IPçš„socketæœºåˆ¶ æœåŠ¡å™¨ç«¯æ¡†æ¶å±‚ï¼šçŸ¥è¯†ç›²åŒº  æ ¸å¿ƒæ¡†æ¶åŸç†  ä¼˜ç‚¹ï¼šæ˜“äºç¼–ç¨‹ï¼Œåªç”¨å…³ç³»ä¸šåŠ¡é€»è¾‘  è‰¯å¥½æ‹“å±•æ€§ï¼šå¯ä»¥åŠ¨æ€å¢åŠ æœåŠ¡å™¨ï¼Œè§£å†³è®¡ç®—èµ„æºä¸å¤Ÿçš„é—®é¢˜ é«˜å®¹é”™æ€§ï¼šä»»ä½•ä¸€å°æœºå™¨æŒ‚æ‰ï¼Œå¯ä»¥å°†ä»»åŠ¡è½¬ç§»åˆ°å…¶ä»–èŠ‚ç‚¹ é€‚åˆæµ·é‡æ•°æ®çš„è®¡ç®—ï¼ˆTB/PB) å‡ åƒå°æœåŠ¡å™¨å…±åŒè®¡ç®—   ä¸æ“…é•¿å®æ—¶è®¡ç®—ï¼ˆmysqlè¿™æ ·çš„æ“…é•¿ï¼‰ ä¸æ“…é•¿æµå¼è®¡ç®—ï¼ˆSparkstreaming flinkï¼‰ ä¸æ“…é•¿DAGæœ‰å‘æ— ç¯å›¾è®¡ç®— spark  1ï¼‰MapReduceé˜¶æ®µï¼ˆå¼•ç”¨å›¾ï¼‰ 2ï¼‰MapReduceè¿›ç¨‹ ä¸€ä¸ªå®Œæ•´çš„MapReduceç¨‹åºåœ¨åˆ†å¸ƒå¼è¿è¡Œæ—¶æœ‰ä¸‰ç±»å®ä¾‹è¿›ç¨‹\n MrAppMaster:è´Ÿè´£æ•´ä¸ªç¨‹åºçš„è¿‡ç¨‹è°ƒåº¦å’ŒçŠ¶æ€è°ƒåº¦ MapTaskï¼šè´Ÿè´£æ•´ä¸ªMapé˜¶æ®µçš„æ•´ä¸ªæ•°æ®å¤„ç†æµç¨‹ ReduceTaskï¼šè´Ÿè´£æ•´ä¸ªReduceé˜¶æ®µçš„æ•´ä¸ªæ•°æ®å¤„ç†æµç¨‹  3ï¼‰MapReduceçš„ç¼–ç¨‹è§„èŒƒ   Mapé˜¶æ®µ\n ç”¨æˆ·è‡ªå®šä¹‰çš„Mapperéœ€è¦ç»§æ‰¿è‡ªå·±çš„çˆ¶ç±» Mapperçš„è¾“å…¥æ•°æ®æ˜¯KVå¯¹çš„å½¢å¼ï¼ˆç±»å‹å¯ä»¥è‡ªå®šä¹‰ï¼‰ Mapperä¸­çš„ä¸šåŠ¡é€»è¾‘å®ç°åœ¨mapæ–¹æ³•ä¸­ Mapçš„è¾“å‡ºæ•°æ®ä¹Ÿæ˜¯KVå¯¹çš„å½¢å¼ï¼ˆåŒæ ·å¯ä»¥è‡ªå®šä¹‰ç±»å‹ï¼‰ Mapæ–¹æ³•å¯¹æ¯ä¸€ä¸ª\u0026lt;K,V\u0026gt;è°ƒç”¨ä¸€æ¬¡ï¼ˆä¸€è¡Œä¸€è¡Œçš„è°ƒç”¨ï¼Œå¤šæ¬¡ä½¿ç”¨mapï¼‰    Reduceé˜¶æ®µ\n ç»§æ‰¿çˆ¶ç±» reducerçš„è¾“å…¥æ•°æ®ç±»å‹å¯¹åº”mapperçš„è¾“å‡ºç±»å‹ Reducerçš„ä¸šåŠ¡é€»è¾‘å†™åœ¨reduceé˜¶æ®µ ReduceTaskè¿›ç¨‹å¯¹æ¯ä¸€ç»„kçš„\u0026lt;k,v\u0026gt;å¸¦å“¦ç”¨ä¸€æ¬¡reduceæ–¹æ³•ï¼ˆå¤šå°‘Kå°±è¿›è¡Œå¤šå°‘æ¬¡reduceï¼‰     Driverï¼šç›¸å½“äºYarné›†ç¾¤çš„å®¢æˆ·ç«¯ï¼Œç”¨äºæäº¤æˆ‘ä»¬æ•´ä¸ªæ­£åºåˆ°YARNé›†ç¾¤ï¼Œæäº¤çš„æ˜¯å°è£…äº†MapReduceç¨‹åºç›¸å…³è¿è¡Œå‚æ•°çš„jobå¯¹è±¡\n  MapReduce 1.è¾“å…¥çš„æ•°æ®InputFormatæ•°æ®è¾“å…¥ Mapåˆ‡ç‰‡å¤§å°è®¾ç½®ä¸ºblockå¤§å°æ—¶ï¼Œæ•ˆç‡æœ€é«˜\n 1ï¼‰ä¸€ä¸ªjobçš„Mapé˜¶æ®µå¹¶è¡Œåº¦ç”±å®¢æˆ·ç«¯åœ¨æäº¤Jobæ—¶çš„åˆ‡ç‰‡æ•°å†³å®šï¼ˆåˆ‡äº†å¤šå°‘ç‰‡ï¼Œå¤šå°‘ä¸ªMaptask æ³¨æ„æ¯ä¸€ä¸ªæ–‡ä»¶éœ€è¦å•ç‹¬åˆ‡ï¼‰ 2ï¼‰æ¯ä¸€ä¸ªSplitåˆ‡ç‰‡åˆ†é…ä¸€ä¸ªMapTaskå¹¶è¡Œå®ä¾‹å¤„ç† 3ï¼‰é»˜è®¤æƒ…å†µï¼Œåˆ‡ç‰‡å¤§å°=BlockSize 4ï¼‰åˆ‡ç‰‡æ—¶ä¸è€ƒè™‘æ•°æ®é›†æ•´ä½“ï¼Œè€Œæ˜¯é€ä¸ªé’ˆå¯¹æ¯ä¸€ä¸ªæ–‡ä»¶å•ç‹¬åˆ‡ç‰‡  Jobæäº¤æµç¨‹æºç åˆ†æ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  waitForCompletion() submit(); //1 å»ºç«‹è¿æ¥ \tconnect(); //1)åˆ›å»ºæäº¤Jobçš„ä»£ç† \tnew Cluster(getConfiguration()); //(1) åˆ¤æ–­æ˜¯æœ¬åœ°è¿è¡Œç¯å¢ƒè¿˜æ˜¯yarnè¿è¡Œç¯å¢ƒ \tinitialize(jobTrackAddr,conf); //2 æäº¤Job \tsubmitter.submitJobInternal(Job.this,cluster) // 1ï¼‰åˆ›å»ºç»™é›†ç¾¤æäº¤æ•°æ®çš„Stagè·¯å¾„  Path jobStagingArea = JobsubmissionFiles.getStagingDir(cluster,conf) //2) è·å–jobid å¹¶åˆ›å»ºjobè·¯å¾„  JobID jobId = submitClient.getNewJobID(); //3)å¦‚æœæ˜¯é›†ç¾¤æ¨¡å¼ æ‹·è´jaråŒ…åˆ°é›†ç¾¤ \tcopyAndConfigureFiles(job,submitJobDir) rUploader.uploadFiles(job,jobsubmitDir) //4) è®¡ç®—åˆ‡ç‰‡ï¼Œç”Ÿæˆåˆ‡ç‰‡è§„åˆ’æ–‡ä»¶  //5) å‘stagè·¯å¾„å†™XMLé…ç½®æ–‡ä»¶  //6) æäº¤JOBï¼Œè¿”å›æäº¤çŠ¶æ€   a.FileInputFormatåˆ‡ç‰‡æºç è§£æ 1 2 3 4 5 6 7 8 9 10 11  1)ç¨‹åºå…ˆæ‰¾åˆ°æ•°æ®å­˜å‚¨çš„ç›®å½• 2)éå†å¤„ç†ç›®å½•ä¸‹çš„æ¯ä¸€ä¸ªæ–‡ä»¶ 3)éå†ç¬¬ä¸€ä¸ªæ–‡ä»¶ss.txt a)è·å–æ–‡ä»¶å¤§å°fs.sizeOf(ss.ttx) b)è®¡ç®—åˆ‡ç‰‡å¤§å° computeSplitSize(Math.max(minSize,Math,min(maxSize,blockSize)))=blocksize=128M c)é»˜è®¤æƒ…å†µä¸‹åˆ‡ç‰‡å¤§å°éƒ½æ˜¯blocksize d)å¼€å§‹åˆ‡ï¼Œå½¢æˆç¬¬ä¸€ä¸ªåˆ‡ç‰‡ï¼šss.txt-0:128M ç¬¬äºŒä¸ªåˆ‡ç‰‡ss.txt-128:256 e)å°†åˆ‡ç‰‡ä¿¡æ¯å†™åˆ°ä¸€ä¸ªåˆ‡ç‰‡è§„åˆ’æ–‡ä»¶ä¸­ f)æ•´ä¸ªåˆ‡ç‰‡çš„æ ¸å¿ƒè¿‡ç¨‹å†getSplit()æ–¹æ³•å®Œæˆ g)InputSplitåªè®°å½•äº†**åˆ‡ç‰‡çš„å…ƒæ•°æ®ä¿¡æ¯**,æ¯”å¦‚èµ·å§‹ä½ç½®ã€é•¿åº¦ä»¥åŠæ‰€åœ¨çš„èŠ‚ç‚¹åˆ—è¡¨ 4)æäº¤åˆ‡ç‰‡è§„åˆ’æ–‡ä»¶åˆ°YARNä¸Šï¼ŒYARNä¸Šçš„MrAppMasterå°±å¯ä»¥æ ¹æ®åˆ‡ç‰‡è§„åˆ’æ–‡ä»¶è®¡ç®—å¼€å¯MapTaskçš„ä¸ªæ•°   TextInputFormatæ˜¯FileInputFormatçš„å®ç°ç±» \u0026lt;Longwritable,Text\u0026gt;\né”®æ˜¯å­˜å‚¨æ”¹è¡Œå†æ•´ä¸ªæ–‡ä»¶ä¸­çš„èµ·å§‹å­—èŠ‚åç§»é‡ï¼ŒVæ˜¯è¿™è¡Œçš„å†…å®¹\n KeyValueFormat \u0026lt;Text , Text\u0026gt; ç¬¬0ä½ KEY åé¢æ˜¯ Value\nb.CombineTextInputFormatåˆ‡ç‰‡æœºåˆ¶ CombineTextInputFormatå¤„ç†æ–¹å¼æ˜¯ä¸€æ¬¡è¯»å–å¤šä¸ªæ–‡ä»¶ï¼ŒæŠŠæ‰€æœ‰æ–‡ä»¶é›†åˆå†ä¸€èµ·å¤„ç†.\nåº”ç”¨åœºæ™¯ï¼šç”¨äºå°æ–‡ä»¶è¿‡å¤šçš„åœºæ™¯ï¼Œå› ä¸ºå†é»˜è®¤æ¡†æ¶ä¸­\n2.Shuffle  mapæ–¹æ³•ä¹‹åã€‚reduceæ–¹æ³•ä¹‹å‰çš„è¿‡ç¨‹éƒ½æˆä¸ºShuffle   a.Partitioner   æ³¨æ„ï¼šReduceTaské»˜è®¤ä¸º1æ—¶ï¼Œä¸ä¼šèµ°é»˜è®¤çš„patitioneré‚£ä¸ªç±»ï¼Œè€Œæ˜¯ä¼šè¿è¡Œé‚£ä¸ªä¸€ä¸ªå†…éƒ¨ç±»ä½¿å¾—åªæœ‰0è¿™ä¸ªåˆ†åŒº\n  é—®é¢˜ï¼šè¦æ±‚å°†ç»Ÿè®¡ç»“æœæŒ‰ç…§æ¡ä»¶è¾“å‡ºåˆ°ä¸åŒä¸ºä½ æš—ä¸­ï¼ˆåˆ†åŒºï¼‰ï¼Œå½’å±åœ°ä¸åŒçœä»½è¾“å‡ºåˆ°ä¸åŒæ–‡ä»¶ä¸­ï¼ˆåˆ†åŒºï¼‰\n  é»˜è®¤åˆ†åŒºæ˜¯æ ¹æ®keyçš„hashcodeå¯¹Reduce\u0026rsquo;Taskä¸ªæ•°å–æ¨¡å¾—åˆ°çš„ã€‚ç”¨æˆ·æ²¡æ³•æ§åˆ¶å“ªä¸ªKeyå­˜å‚¨åˆ°é‚£ä¸ªåˆ†åŒº\n  è‡ªå®šä¹‰Partitoneræ­¥éª¤\n  1ï¼‰è‡ªå®šä¹‰ç±»ç»§æ‰¿Partitionerï¼Œé‡å†™getPartitioneræ–¹æ³•\n  1 2 3 4 5 6 7 8  public class www extends Partitioner\u0026lt;Text,FlowBean\u0026gt;{ @Override public int getPartitioner(Text key,FlowBean value,int numpartitions) //æ§åˆ¶åˆ†åŒºä»£ç ä¸šåŠ¡é€»è¾‘  ........ return partition; }     2ï¼‰åœ¨jobé©±åŠ¨ä¸­ï¼Œè®¾ç½®è‡ªå®šä¹‰Partioner\n  1  job.setPartitionerClass(CustomPartitioner.class)     3ï¼‰è‡ªå®šä¹‰partitioneråï¼Œéœ€è¦æ ¹æ®é€»è¾‘è®¾ç½®ç›¸åº”æ•°é‡çš„ReduceTask\n  4ï¼‰å¦‚æœreduceTaskæ•°é‡å¤§äºgetPartitionerçš„ç»“æœæ•°ï¼Œåˆ™ä¼šäº§ç”Ÿå‡ ä¸ªç©ºçš„\n  5ï¼‰å¦‚æœreduceTaskæ•°é‡å¤§äº1 å°äºgetPartitionerçš„ç»“æœæ•°ï¼Œåˆ™æœ‰ä¸€éƒ¨åˆ†åˆ†åŒºæ•°æ®æ— æ³•å®‰é˜²ï¼ŒæŠ¥é”™\n  å¦‚æœreduceTaskçš„æ•°é‡ä¸ºä¸€ï¼Œä¸ç®¡MapTaskè¾“å‡ºå¤šå°‘ä¸ªåˆ†åŒºçš„æ–‡ä»¶ï¼Œç»“æœéƒ½äº¤ç”±ä¸€ä¸ªreduceTaskï¼Œä¹Ÿå°±æ˜¯äº§ç”Ÿä¸€ä¸ªç»“æœæ–‡ä»¶ã€‚\n    b.å…¨æ’åº FlowBeanéœ€è¦å®ç°WritableComparableæ¥å£é‡å†™compareTo()æ–¹æ³•\nc.äºŒæ¬¡æ’åº d.åŒºå†…æ’åº e.Combiner ä¼šå¯¹Keyç›¸åŒçš„è¿›è¡Œåˆå¹¶ï¼Œå¹¶ä¸”åœ¨MapTaskå¤„ç†ä¸€éƒ¨åˆ†åˆå¹¶ä¼šæé«˜æ•ˆç‡ï¼ˆæ³¨æ„ï¼šä¸æ˜¯æ‰€æœ‰éƒ½é€‚ç”¨ï¼‰\n Combinerä¸å±äºMapperå’ŒReducer combinerç»„ä»¶çš„çˆ¶ç±»æ˜¯Reducer Combinerå’ŒReducerçš„åŒºåˆ«åœ¨äºè¿è¡Œçš„ä½ç½®ï¼šå‰è€…åœ¨MapTaskè¿è¡Œ è‡ªå®šä¹‰ï¼šåŸºäºwordCountçš„æ¡ˆä¾‹ è‡ªå®šä¹‰Combiner  3.è¾“å‡ºæ•°æ®OutputFormat  æ ¸å¿ƒæ–¹æ³•ï¼šrecordWriterå†³å®šå†™å‡ºç±»å‹ è‡ªå®šä¹‰outputFormatï¼š  è¿‡æ»¤è¾“å‡ºæ—¥å¿—ï¼ŒåŒ…å«atguiguçš„ç½‘ç«™è¾“å‡ºåˆ°\u0026hellip;ï¼Œä¸åŒ…å«\u0026hellip;.çš„è¾“å‡ºåˆ°\u0026hellip;. åˆ›å»ºä¸€ä¸ªç±»LogRecordWriterç»§æ‰¿RecordWriter  (a) åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶çš„è¾“å‡ºæµï¼šaoutï¼Œbout (b)ç¬¦åˆaæ¡ä»¶çš„è¾“å‡ºåˆ°aout ï¼Œå…¶ä»–çš„è¾“å‡ºåˆ°bout (c) è¦å°†è‡ªå®šçš„è¾“å‡ºæ ¼å¼ç»„ä»¶è®¾ç½®åˆ°jobä¸­      4.Join 5. ETL 6.æ€»ç»“ 7.Yarnåœ¨Mapreduceä¸­çš„ä½œç”¨ ","date":"2022-02-16T00:42:52+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/hadoop-learning/b2_hu0d8ab1c30cfa3ec811729f914159dc22_220525_120x120_fill_q75_box_smart1.jpg","permalink":"https://yuxin-zh.github.io/AllForOne/p/hadoop-learning/","title":"Hadoop Learning"},{"content":"[TOC]\nGit 1.ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆVCS) 1.1 åŸºæœ¬æ¦‚å¿µ ...è¡Œå†…ä»£ç   ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆVCSï¼‰æœ€åŸºæœ¬çš„åŠŸèƒ½å°±æ˜¯ç‰ˆæœ¬æ§åˆ¶ã€‚è€Œæ‰€è°“ç‰ˆæœ¬æ§åˆ¶ï¼Œæ„æ€å°±æ˜¯åœ¨æ–‡ä»¶çš„ä¿®æ”¹å†å²ä¸­ä¿å­˜ä¿®æ”¹å†å²ï¼Œè®©iæ–¹ä¾¿å¯¹æ–‡ä»¶çš„iä¿®æ”¹å·¥ä½œã€‚ æˆ‘ä»¬å¸¸ç”¨çš„ä¸»æµæ–‡æœ¬ç¼–è¾‘å™¨çš„undoåŠŸèƒ½å…¶å®å°±æ˜¯ç‰ˆæœ¬æ§åˆ¶ã€‚ ä½†æ˜¯VCSå’Œæ–‡æœ¬ç¼–è¾‘å™¨çš„æ’¤é”€åŠŸèƒ½ç›¸æ¯”ï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŒºåˆ«å°±æ˜¯ï¼š  å¯¹äºç¨‹åºä»£ç è€Œè¨€ï¼šä¿®æ”¹çš„ç”Ÿå‘½å‘¨æœŸå¾ˆé•¿ï¼Œå¦‚æœé‡‡ç”¨æ¯æ¬¡æ”¹åŠ¨è‡ªåŠ¨ä¿å­˜çš„å½¢å¼æ¥ä¿å­˜ä¿®æ”¹å†å²ï¼Œå°†ä¼šå¯¼è‡´æ”¹åŠ¨å†å²éå¸¸é¢‘ç¹å’Œæ— ç« å¯å¾ªã€‚æ‰€ä»¥å’Œæ–‡æœ¬ç¼–è¾‘å™¨çš„æ’¤é”€åŠŸèƒ½ä¸åŒï¼ŒVCSä¿å­˜ä¿®æ”¹å†å²ï¼Œä½¿ç”¨çš„æ˜¯ä¸»åŠ¨æäº¤æ”¹åŠ¨çš„æœºåˆ¶ã€‚    2.åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ(DVCS) 2.1 å·¥ä½œæ¨¡å‹  åˆ†å¸ƒå¼ï¼ˆDVCSï¼‰ä¸VCSçš„åŒºåˆ«åœ¨äºï¼Œåˆ†å¸ƒå¼VCSé™¤äº†ä¸­å¤®ä»“åº“ä¹‹å¤–ï¼Œè¿˜æœ‰æœ¬åœ°ä»“åº“ï¼šå›¢é˜Ÿçš„æ¯ä¸€ä¸ªæˆå‘˜çš„æœºå™¨ä¸Šéƒ½æœ‰ä¸€ä»½æœ¬åœ°æ˜‚åº“ï¼Œè¿™ä¸ªä»“åº“åŒ…å«äº†æ‰€æœ‰ç‰ˆæœ¬å†å²ï¼Œæ¢å¥è¯è¯´åœ¨è¿™ç§å·¥ä½œæ¨¡å‹å†…ï¼Œä½ æ˜¯å’Œæœ¬åœ°ä»“åº“äº¤äº’ã€‚ å·¥ä½œæµç¨‹  æäº¤ä»£ç åˆ°æœ¬åœ°ä»“åº“ åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªä¸­å¤®ä»“åº“ï¼Œå¹¶æŠŠ1ä¸­çš„æäº¤æ¨é€åˆ°æœåŠ¡å™¨çš„ä¸­å¤®ä»“åº“ã€‚ å…¶ä»–å·¥ä½œäººå‘˜å°†ä¸­å¤®ä»“åº“çš„æ‰€æœ‰å†…å®¹å…‹éš†åˆ°æœ¬åœ°ï¼Œæ‹¥æœ‰äº†å„è‡ªçš„æœ¬åœ°ä»“åº“ï¼Œæ­¤æ—¶è¿›è¡Œå¹¶è¡Œå¼€å‘ åœ¨èŒè¿‡åçš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¹ˆä¸ªäººéƒ½ä¼šç‹¬ç«‹è´Ÿè´£å¼€å‘ä¸€ä¸ªåŠŸèƒ½ï¼Œåœ¨è¿™ä¸ªåŠŸèƒ½çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªäººéƒ½ä¼šæŠŠå®ƒçš„æ¯ä¸€æ­¥æ”¹åŠ¨æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼ˆç”±äºæœ¬åœ°æäº¤æ¯‹é¡»ç«‹å³æ¨é€åˆ°ä¸­å¤®ä»“åº“ï¼Œæ‰€ä»¥æäº¤çš„å†…å®¹ä¸ä¸€å®šè¦æ˜¯ä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½é¢æ¨¡å—ï¼Œè€Œå¯ä»¥æ˜¯æŸä¸ªæ­¥éª¤ï¼‰ å½“å®Œæˆäº†æŸä¸ªåŠŸèƒ½çš„å¼€å‘æ—¶ï¼Œå¯ä»¥æŠŠä¸è¯¥åŠŸèƒ½ç›¸å…³çš„æ‰€æœ‰æäº¤ ä»æœ¬åœ°ä»“åº“æ¨é€åˆ°ä¸­å¤®ä»“åº“ è€Œæ¯æ¬¡æœ‰äººæŠŠæ–°çš„æäº¤æ¨é€åˆ°ä¸­å¤®ä»“åº“æ˜¯ï¼Œå¦å¤–çš„äººå°±å¯ä»¥é€‰æ‹©æŠŠè¿™äº›æäº¤åŒæ­¥åˆ°è‡ªå·±çš„æœºå™¨ä¸Šï¼Œå¹¶æŠŠä»–ä»¬å’Œè‡ªå·±çš„æœ¬åœ°ä»£ç åˆå¹¶    2.2ä¼˜ç¼ºç‚¹åˆ†æ  ğŸ˜µä¼˜ç‚¹ï¼šâ‘ å¤§å¤šæ•°æ“ä½œå¯ä»¥åœ¨æœ¬åœ°è¿è¡Œï¼Œé€Ÿåº¦æ›´å¿«ã€‚â‘¡ç”±äºå¯ä»¥æäº¤åˆ°æœ¬åœ°ï¼Œå› æ­¤å¯ä»¥åˆ†æ­¥æäº¤ä»£ç ï¼ŒæŠŠä»£ç æäº¤åšçš„æ›´ç»†ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæäº¤åŒ…å«å¾ˆå¤šä»£ç ï¼Œéš¾ä»¥reviewä¹Ÿéš¾ä»¥å›æº¯ã€‚ ğŸ¤ ç¼ºç‚¹ï¼šç”±äºæ¯ä¸€ä¸ªæ—§æœºå™¨éƒ½éœ€è¦æœ‰å®Œæ•´çš„æœ¬åœ°ä»“åº“ï¼Œæ‰€ä»¥åˆæ¬¡è·å–ä»£ç éœ€è¦è·å–é¡¹ç›®æ¯”è¾ƒè´¹æ—¶â‘¡æœ¬åœ°å ç”¨çš„å­˜å‚¨æ¯”ä¸­å¤®å¼é«˜  3.ä½¿ç”¨Gitç®¡ç†ä»£ç  3.1 å‰æœŸå‡†å¤‡  Githubåˆ›å»ºè¿œç¨‹ä»“åº“ ï¼ˆ.gitignoreè®¾ç½®é¡¹ç›®ç±»å‹ï¼Œæ˜¯gitä»“åº“ä¸­çš„ä¸€ä¸ªç‰¹ä¿—çš„æ–‡æœ¬æ–‡ä»¶ï¼Œè®°å½•äº†ä½ ä¸å¸Œæœ›æäº¤åˆ°ä»“åº“çš„ç›®å½•å’Œæ–‡ä»¶çš„åç§°æˆ–ç±»å‹ ç‚¹å‡»å³è¾¹çš„Clone or downlodaï¼Œç„¶åæŠŠä»“åº“çš„Cloneåœ°å€å¤åˆ¶åˆ°æˆªåˆ‡ç‰ˆ åœ¨ä½ å–œæ¬¢çš„ä»»æ„ä¸€ä¸ªä½ç½®ï¼Œæ‰“å¼€Git Bash,è¾“å…¥Git clone åˆšå¤åˆ¶çš„åœ°å€ï¼ˆè¯¥è¿‡ç¨‹å¯èƒ½ä¼šéœ€è¦ä½ å»è¾“å…¥Githubçš„ç”¨æˆ·åå’Œå¯†ç ï¼‰ å…‹éš†å®Œæ¯•åï¼Œä½ çš„ç›®å½•ä¸­ä¼šå‡ºç°.gitçš„éšè—ç›®å½•ï¼Œæ”¹äº†ç›®å½•å°±æ˜¯ä½ çš„æœ¬åœ°ä»“åº“ï¼Œä½ çš„æ‰€æœ‰æŠŠé‚£æœ¬ä¿¡æ¯éƒ½ä¼šå­˜åœ¨è¿™é‡Œã€‚è€Œ.gitæ‰€åœ¨çš„ç›®å½•æˆä¸ºå·¥ä½œç›®å½•ã€‚ ä¸€äº›gitçš„åŸºæœ¬æŒ‡ä»¤åœ¨è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œå¯ä»¥æŸ¥é˜…Gitå®˜æ–¹æ–‡æ¡£  4.GitåŸºæœ¬å·¥ä½œæ¨¡å‹  ç”±äºgitåœ¨å·¥ä½œæ—¶ï¼Œå¿…é¡»ä¿è¯è‡ªå·±çš„æœ¬åœ°ä»“åº“ä¸ä¸­å¤®ä»“åº“ä¿æŒä¸€è‡´ï¼Œå› æ­¤ï¼Œå½“ä½ ç¬¬ä¸€æ¬¡ä»ä¸­å¤®ä»“åº“æ‹‰å»ä»£ç åï¼Œä½ çš„åŒäº‹åˆpushäº†ä¸€æ¬¡ï¼Œé‚£ä¹ˆå½“ä½ æƒ³è¦æŠŠè‡ªå·±çš„commitsæäº¤ä¸Šå»æ—¶ï¼Œå°±éœ€è¦å…ˆæ‹‰å–åŒäº‹çš„ä»£ç åˆ°æœ¬åœ°ã€‚ğŸ˜§ å½“pushæ—¶å‡ºç°å†²çªï¼š  åœ¨ç°å®çš„å›¢é˜Ÿå¼€å‘ä¸­ï¼Œå…¨é˜Ÿæ—¶åŒæ—¶å¹¶è¡Œå¼€å‘çš„ï¼Œæ‰€ä»¥å¿…ç„¶ä¼šå‡ºç°å½“ä¸€äººpushä»£ç æ—¶ï¼Œä¸­å¤®ä»“åº“å·²ç»è¢«å…¶ä»–åŒäº‹å…ˆä¸€æ­¥pushäº†çš„æƒ…å†µã€‚ é‚£è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬åƒä¸Šé¢ä»‹ç»çš„é‚£æ ·ä½¿ç”¨git pullæŒ‡ä»¤æ‹‰å–ä»£ç æ—¶ï¼Œä»–å¹¶ä¸ä¼šåƒä¹‹å‰é‚£æ ·ç›´æ¥ç»“æŸï¼Œè€Œæ˜¯ä¼šå‡ºç°ä¸€ä¸ªè¾“å…¥æäº¤ä¿¡æ¯çš„ç•Œé¢ï¼Œè¿™æ˜¯å› ä¸ºpullæ“ä½œè¿”ç°ä¸ä»…è¿œç¨‹ä»“åº“æœ‰æœ¬åœ°æ¯å¤©æœ‰çš„commitsï¼Œæœ¬åœ°ä¹Ÿæœ‰è¿œç«¯ä»“åº“ä¸å…·å¤‡çš„commitsï¼Œå®ƒå°±ä¼šæŠŠè¿œç«¯å’Œæœ¬åœ°ç‹¬æœ‰çš„commitåˆå¹¶ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ–°çš„commit å¦ä¸€ç§æƒ…å†µï¼Œå½“å‡ºç°å†²çªçš„éƒ¨åˆ†æ˜¯ä½ å’Œä½ çš„åŒäº‹å¯¹æŸä¸€ä¸ªæ–‡ä»¶çš„æŸä¸€å¤„è¿›è¡Œäº†ä¸åŒçš„ä¿®æ”¹ï¼ŒGitå°±æ— æ³•ç›´æ¥å¤„ç†äº†ï¼Œå…³äºè¿™ç‚¹ä¼šåœ¨ä¹‹åçš„æ–‡ç« ä¸­ä»‹ç»ğŸ¦„    5.Headã€masterã€branchçš„ä½¿ç”¨è®²è§£ ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡\nWhen Typed \u0026ldquo;git log\u0026rdquo;\n  ç¬¬ä¸€è¡Œçš„commitåé¢çš„æ‹¬å·é‡Œçš„ HEAD-\u0026gt; mainï¼Œæ˜¯åªæƒ³è¿™ä¸ªcommitçš„å¼•ç”¨ã€‚åœ¨Gitæ“ä½œä¸­ï¼Œç»å¸¸ä¼šéœ€è¦å¯¹æŒ‡å®šCommitè¿›è¡Œæ“ä½œï¼Œè€Œæ¯ä¸€ä¸ªCommitéƒ½ä¼šæœ‰å®ƒå”¯ä¸€çš„æŒ‡å®šæ–¹å¼â€”â€”å®ƒçš„SHA-1æ ¡éªŒå’Œï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªcommitä¸­é‚£ä¸²é»„è‰²çš„å­—ç¬¦ã€‚ç”±äºSHA-1é‡å¤çš„æ¦‚ç‡æä½ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æŒ‡ä»£æŸä¸€ä¸ªcommitï¼Œä¹Ÿå¯ä»¥åªæ˜¯ç”¨ä»–çš„å‰å‡ ä½æ¥æŒ‡ä»£ã€‚\n  Head ï¼šå½“å‰çš„Commitçš„å¼•ç”¨ï¼šä¹Ÿå°±æ˜¯è¯´å½“å‰å·¥ä½œç›®å½•æ‰€å¯¹åº”çš„Commitã€‚All in all,Commitåœ¨å“ªé‡Œï¼ŒHeadå°±åœ¨å“ªé‡Œã€‚ã€\n  Branchï¼šæ˜¯Gitä¸­çš„å¦ä¸€ä¸ªå¼•ç”¨ï¼ŒHeadé™¤äº†å¯ä»¥æŒ‡å‘commitï¼Œè¿˜å¯ä»¥æŒ‡branchï¼›å½“ä»–æŒ‡å‘branchæ—¶ï¼Œä¼šé€šè¿‡è¿™ä¸ªbranchæ¥ç®€ä»‹åœ°æŒ‡å‘æŸä¸ªcommitï¼›Besides:person_frowning:å½“Headåœ¨æäº¤æ—¶è‡ªåŠ¨å‘å‰ç§»åŠ¨æ—¶ï¼Œå®ƒä¼šå¸¦ç€å®ƒæ‰€æŒ‡å‘åœ°Branchä¸€èµ·ç§»åŠ¨ã€‚\n  å¦‚ä¸Šå›¾ HEAD-\u0026gt;main,mainå°±æ˜¯å½“å‰åˆ†æ”¯çš„åå­—ã€‚\n    1  å½“ä½ è¾“å…¥Git commit,Headå°±ä¼šå¸¦ç€è¿™ä¸ªåˆ†æ”¯ï¼Œç§»å‘ä¸‹ä¸€ä¸ªcommit     ä½ å¯ä»¥é€šè¿‡git logæŒ‡ä»¤ å¯¹è¿™ä¸ªé€»è¾‘è¿›è¡ŒéªŒè¯ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´æ˜äº†\n    Masterï¼šé»˜è®¤branch\n  ä¸€èˆ¬è€Œè¨€ï¼Œmasteræ˜¯Gitçš„é»˜è®¤ä¸»åˆ†æ”¯ï¼Œå®ƒå…·å¤‡ä¸€äº›ç‰¹ç‚¹ï¼š\n  å½“ä½ æ–°å»ºä»“åº“æ—¶ï¼Œæ˜¯ä¸å­˜åœ¨ä»»ä½•commitçš„ï¼Œä½†åœ¨å®ƒåˆ›å»ºç¬¬ä¸€ä¸ªcommitæ—¶ï¼Œä¼šæŠŠmasteræŒ‡å‘å®ƒï¼Œå¹¶æŠŠHeadæŒ‡å‘master :grin:\n  å½“æŸäººä½¿ç”¨git cloneæ—¶ï¼Œé™¤äº†ä»è¿œç¨‹ä»“åº“æŠŠ.gitè¿™ä¸ªä»“åº“ç›®å½•ä¸‹æ ½åˆ°å·¥ä½œç›®å½•ä¸­ï¼Œè¿˜ä¼šcheckoutï¼ˆç­¾å‡ºï¼Œåé¢è®²è§£ï¼‰ master\n  ç±»ä¼¼äºè¿™ä¸ªè¿‡ç¨‹\n    branchçš„é€šä¿—è§£é‡Šï¼š\n  è¡¨é¢ä¸Šçœ‹ï¼Œbranchæ˜¯ä¸€ä¸ªæŒ‡å‘commitçš„å¼•ç”¨ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æŠŠå®ƒç†è§£ä¸ºä»åˆå§‹ commit åˆ°branchæ‰€æŒ‡å‘çš„commitä¹‹é—´çš„æ‰€æœ‰Commitsçš„ä¸€ä¸ªä¸²\n  branchç›¸å…³æŒ‡ä»¤\n  1 2 3 4 5  åˆ›å»ºbranchï¼š git branch +åˆ†æ”¯å åˆ‡æ¢branchï¼š git checkout +åˆ†æ”¯å git checkout -b åç§°æ˜¯è¿™æ­¥æ“ä½œåˆå¹¶æ‰§è¡Œ åˆ é™¤branchï¼š git branch -d åˆ†æ”¯å     branch åˆ›å»º åˆ‡æ¢ åˆ é™¤çš„æµç¨‹\n      ä¸¤ä¸ªåˆ†æ”¯å‡ºç°åˆ†å‰ :pensive:\n  Notice :imp:HeadæŒ‡å‘çš„branchä¸å¯ä»¥åˆ é™¤ï¼›åˆ é™¤branchåªæ˜¯åˆ é™¤è¿™ä¸ªå¼•ç”¨ï¼Œå¹¶ä¸ä¼šåˆ é™¤ä»»ä½•çš„commitï¼›æ²¡æœ‰è¢«åˆå¹¶åˆ°masterè¿‡çš„branchåœ¨åˆ é™¤æ—¶ä¼šå¤±è´¥ï¼Œæ‹…å¿ƒåˆ é™¤é”™è¯¯ï¼Œä½†æ˜¯è‹¥æƒ³å¼ºåˆ¶åˆ é™¤ æŠŠdå¤§å†™å³å¯\n      6. Pushçš„æœ¬è´¨   ä¹‹å‰è®²çš„ï¼šğŸ˜³PushæŒ‡ä»¤æ‰€åšçš„äº‹æ˜¯æŠŠä½ çš„æœ¬åœ°æäº¤ä¸Šä¼ åˆ°ä¸­å¤®ä»“åº“å»ï¼Œç”¨æœ¬åœ°çš„å†…å®¹è¦†ç›–æ‰è¿œç«¯çš„å†…å®¹ï¼Œå…¶å®è¿™ä¸ªè¯´æ³•æ˜¯ä¸å‡†ç¡®çš„ğŸ·ã€‚\n  å®è´¨ä¸Šï¼ŒPushæ‰€åšçš„äº‹æ˜¯ï¼šæŠŠå½“å‰branchçš„ä½ç½®ä¸Šä¼ åˆ°è¿œç«¯ä»“åº“ï¼Œå¹¶æŠŠå®ƒçš„è·¯å¾„ä¸Šçš„commitsä¸€å¹¶ä¸Šä¼ ã€‚ğŸ™æ¯”å¦‚ï¼Œå½“å‰æˆ‘çš„æœ¬åœ°ä»“åº“æœ‰ä¸€ä¸ªåˆ†æ”¯å«master,å®ƒè¶…å‰äº†è¿œç¨‹ä»“åº“ä¸¤ä¸ªæäº¤ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼›å¦å¤–è¿˜æœ‰ä¸€ä¸ªæ–°å»ºçš„branchå«feature1ï¼Œè¿œç¨‹ä»“åº“è¿˜æ²¡æœ‰è®°è½½è¿‡ï¼Œå…·ä½“æƒ…å†µå¦‚ä¸‹å›¾ï¼šğŸ¤¥\n   æ­¤æ—¶å½“æˆ‘æ‰§è¡Œgit push,å°±ä¼šæŠŠmasterçš„æœ€æ–°ä½ç½®æ›´æ–°åˆ°è¿œç«¯ï¼Œå¹¶æŠŠå®ƒçš„è·¯å¾„ä¸Šçš„5,6ä¸¤ä¸ªÂ·commit`ä¸Šä¼ ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š    å¯ä»¥æ³¨æ„åˆ°æ­¤æ—¶è¿œç¨‹ä»“åº“ä¸masteråˆ†æ”¯çš„çŠ¶æ€åŒæ­¥ï¼Œä½†æ˜¯ä¸feature1çš„çŠ¶æ€ä¸åŒæ­¥ï¼Œæ­¤æ—¶å¯ä»¥åˆ‡æ¢åˆ°feature1åˆ†æ”¯ï¼Œç„¶ååŒæ ·çš„ æ“ä½œå°±å¯ä»¥å®ç°å°†commit 4æäº¤åˆ°è¿œç¨‹ã€‚ğŸ¦‰\n  å…·ä½“çš„æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š\n1 2  git checkout feature1 git push origin feature1     å¯ä»¥æ³¨æ„åˆ°ï¼Œè¿™é‡Œçš„git pushæ¯”ä¹‹å‰å¤šäº†ä¸¤ä¸ªå‚æ•°ï¼šorigin``feature1,å…¶ä¸­orginæ˜¯è¿œç¨‹ä»“åº“çš„åˆ«åï¼Œæ˜¯ä½ åœ¨git cloneæ—¶Gité»˜è®¤çš„åç§°ï¼Œfeature1åˆ™æ˜¯è¿œç¨‹ä»“åº“ä¸­ç›®æ ‡branchçš„åç§°ã€‚\n  Noticeï¼šåœ¨Git 2.0ç‰ˆæœ¬ï¼Œgit pushåªèƒ½ä¸Šä¼ ä»è¿œç«¯cloneæˆ–git pullä¸‹æ¥çš„åˆ†æ”¯,è€Œä½ æœ¬åœ°è‡ªå·±åˆ›å»ºçš„åˆ†æ”¯ï¼Œåœ¨æäº¤æ—¶éœ€è¦æ‰‹åŠ¨æŒ‡å®šç›®æ ‡ä»“åº“å’Œç›®æ ‡åˆ†æ”¯ã€‚\n  ğŸ§å¥½å§ï¼Œå…¶å®ä½ ä¹Ÿå¯ä»¥é€šè¿‡git configæŒ‡ä»¤æ¥è®¾ç½®push.deafaultçš„å€¼æ¥æ”¹å˜pushçš„è¡Œä¸ºé€»è¾‘ï¼›å¦‚æœæœ‰å…´è¶£ï¼Œå¯ä»¥ç‚¹å‡»é˜…è¯» Git-Config\n  Okayï¼Œå½“ä½ å°†Feature1æ¨é€åˆ°è¿œç¨‹ä»“åº“æ—¶ï¼Œä½ ä¼šå‘ç°ï¼Œè¿œç¨‹ä»“åº“çš„Headå¹¶æ²¡æœ‰å’Œæœ¬åœ°ä¸€æ ·æŒ‡å‘feature1ï¼Œè¿™æ˜¯å› ä¸ºPushå¹¶ä¸ä¼šä¸Šä¼ æœ¬åœ°çš„HeADçš„æŒ‡å‘ï¼Œè€Œæ˜¯ä»…ä»…åªä¸Šä¼ å½“å‰brancÂ·çš„æŒ‡å‘ã€‚âš™å®é™…ä¸Šï¼Œè¿œç¨‹ä»“åº“çš„Headæ°¸è¿œæŒ‡å‘å®ƒçš„é»˜è®¤åˆ†æ”¯ï¼ˆå³masterï¼‰ï¼Œå¹¶éšç€è¯¥é»˜è®¤åˆ†æ”¯çš„ç§»åŠ¨è€Œç§»åŠ¨ã€‚ğŸ‘³ğŸ‘³ğŸ‘³\n  7.mergeï¼šåˆå¹¶commits   Actuallyï¼Œpullçš„å†…éƒ¨æ“ä½œå…¶å®æ—¶å…ˆfetchå³æŠŠè¿œç¨‹ä»“åº“æ‹‰å–åˆ°æœ¬åœ°ï¼Œåœ¨ä½¿ç”¨mergeæ¥æŠŠè¿œç«¯ä»“åº“çš„æ–°çš„commitsåˆå¹¶åˆ°æœ¬åœ°ï¼Œæ¥ä¸‹æ¥ä¼šè¯¦ç»†è§£é‡Šä¸‹ä»€ä¹ˆæ˜¯mergeã€‚\n  å…ˆæ¥æ®µå®˜æ–¹è§£é‡Šï¼šä»ç›®æ ‡commitå’Œå½“å‰commitï¼ˆHeadæ‰€æŒ‡å‘çš„commitï¼‰åˆ†å‰çš„ä½ç½®èµ·ï¼ŒæŠŠç›®æ ‡commitçš„è·¯å¾„ä¸Šæ‰€æœ‰commitçš„å†…å®¹ä¸€å¹¶åº”ç”¨åˆ°å½“å‰commit,ç„¶åè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ–°çš„commit.\n  emm ğŸ™ƒå¦‚å›¾æ‰€ç¤º\nå½“ä½ æ­¤æ—¶æ‰§è¡Œgit merge branch1,Gitä¼šæŠŠ5å’Œ6è¿™ä¸¤ä¸ªcommitä¸€èµ·å’Œ4åˆå¹¶ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ï¼Œå¹¶ä½“å“¦å•Šè½¬åˆ°ä¿¡æ¯æäº¤å¡«å†™ç•Œé¢ï¼š\nåœ¨ä¿¡æ¯æäº¤å®Œæˆä¹‹åï¼Œmergeè¿‡ç¨‹å°±ç»“æŸäº†ã€‚\n   Mergeçš„ç‰¹æ®Šæƒ…å†µå¤„ç†\n  Conflict Happend ğŸ˜­\nå¸¸è§„çš„mergeåœ¨æ‰§è¡Œåˆå¹¶æ“ä½œçš„æ—¶å€™ï¼Œå…·å¤‡ä¸€å®šçš„è‡ªåŠ¨å’Œåˆå¹¶èƒ½åŠ›ï¼šæ¯”å¦‚å½“ä¸€ä¸ªåˆ†æ”¯å¯¹Aæ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œå¦ä¸€ä¸ªåˆ†æ”¯å¯¹Bæ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆåˆå¹¶çš„ç»“æœå°±æ˜¯Aå’ŒBéƒ½è¢«ä¿®æ”¹ï¼›å¦‚æœä¸¤ä¸ªåˆ†æ”¯éƒ½ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶çš„ä¸åŒä½ç½®ï¼Œé‚£ä¹ˆåˆå¹¶åå°±æ˜¯ä¸¤å¤„ä¿®æ”¹éƒ½ä¿å­˜ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå½“ä½ ä¿®æ”¹çš„æ˜¯åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä½ç½®ï¼Œmergeæ“ä½œä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬æˆä¸º Conflict\nå‡è®¾æˆ‘ä»¬å‘¢æ­£å¤„äºå†²çªçš„æƒ…å†µï¼š\n1  git merge feature1   æç¤ºä¿¡æ¯ä¼šè¯´ä½ éœ€è¦æŠŠå†²çªè§£å†³åæäº¤\n  è§£å†³å†²çª\nå½“ä½ æ‰“å¼€é‡ç°å†²çªçš„æ–‡ä»¶æ—¶ï¼Œä½ ä¼šå‘ç°è™½ç„¶Gitæ²¡æœ‰å¸®ä½ è‡ªåŠ¨å®ŒæˆMergeä½†æ˜¯å®ƒå¯¹æ–‡ä»¶è¿˜æ˜¯åšäº†ä¸€äº›å·¥ä½œçš„ï¼Œä¹Ÿå°±æ˜¯å°†åˆ†æ”¯å†²çªçš„å†…å®¹æ”¾åœ¨äº†ä¸€èµ·ï¼Œå¹¶ä¸”æ ‡å‡ºäº†å®ƒä»¬çš„å‡ºå¤„ï¼ŒLike thisï¼š\nä½ åªéœ€è¦åˆ é™¤æ‰ä½ ä¸æƒ³ä¿ç•™çš„åˆ†æ”¯çš„ä¿®æ”¹ï¼Œå¹¶åˆ é™¤Gitæ·»åŠ çš„é‚£ä¸‰è¡Œ\u0026lt;\u0026lt;\u0026lt; ===``\u0026gt;\u0026gt;\u0026gt;çš„è¾…åŠ©æ–‡å­—ï¼Œsave and quitï¼Œå°±è§£å†³äº†å†²çªğŸ‘¬ã€‚å½“ç„¶ä¹Ÿæœ‰ä¸€äº›è¾…åŠ©å…¬å¯“ç”¨äºè§£å†³å†²çªï¼Œå¯ä»¥è‡ªè¡Œæœç´¢ã€‚\n  è§£å†³å®Œå†²çªå°±å¯ä»¥æ‰‹åŠ¨æäº¤äº†ï¼šgit add å‡ºç°å†²çªçš„æ–‡ä»¶å ç„¶å git commitã€‚\nğŸ˜±å¯ä»¥çœ‹åˆ°ï¼Œè¢«å†²çªé˜»æ–­çš„mergeï¼Œåœ¨æ‰‹åŠ¨commitæ—¶ä¾ç„¶ä¼šè‡ªåŠ¨å¡«å†™æäº¤ä¿¡æ¯ï¼Œè¿™æ˜¯å› ä¸ºåœ¨å†²çªå‘ç”Ÿåï¼ŒGitä»“åº“å¤„äºä¸€ä¸ªã€å†²çªå¾…è§£å†³ã€‘çš„çŠ¶æ€ï¼Œåœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼ŒGitä¼šè‡ªåŠ¨æ·»åŠ æäº¤ä¿¡æ¯ã€‚\n  å½“ç„¶å¦‚æœä½ ä¸çŸ¥é“è¿™ä¸ªå†²çªè¯¥æ€ä¹ˆè§£å†³ï¼Œæ‰€ä»¥ä½ å†³å®šæ”¾å¼ƒå¤„ç†ï¼Œä¹Ÿéœ€è¦æ‰§è¡Œä¸€æ¬¡merge --avortæ¥æ‰‹åŠ¨å–æ¶ˆå®ƒï¼Œè¿™æ ·ä½ çš„Gitä»“åº“ä¼šå›åˆ°mergeä¹‹å‰çš„çŠ¶æ€ã€‚\n    HEADé¢†å…ˆäºç›®æ ‡commitğŸ˜“\n  è¿™æ—¶mergeå¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„commitæ¥è¿›è¡Œåˆå¹¶æ“ä½œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒGitä»€ä¹ˆé‡ä¸ä¼šå¤„ç†ï¼Œæ˜¯ä¸€ä¸ªç©ºæ“ä½œã€‚\n  Headè½åäºç›®æ ‡commitğŸ‘Š\nè¿™ç§æ“ä½œä¼šè®©Headç›´æ¥ç§»åŠ¨åˆ°ï¼Œç›®æ ‡åˆ†æ”¯æ‰€æŒ‡å‘çš„commitï¼Œè¿™ç§æ“ä½œæœ‰ä¸€ä¸ªä¸“æœ‰æ“ä½œï¼Œå«åš\u0026quot;fast-forward\u0026quot; ã€‚\n    8.Feature Branching  Feature Branchingæ—¶ç›®å‰æœ€æµè¡Œçš„gGitå·¥ä½œæµï¼Œå®ƒçš„æ ¸å¿ƒå†…å®¹å¯ä»¥å½’çº³ä¸ºä»¥ä¸‹ä¸¤ç‚¹ï¼š  ä»»ä½•æ–°çš„åŠŸèƒ½æˆ–bugä¿®å¤å…¨éƒ½æ–°å»ºä¸€ä¸ªbranchæ¥å†™ brnachå†™å®Œåï¼Œåˆå¹¶åˆ°masterï¼ˆé»˜è®¤çš„ä¸»åˆ†æ”¯ï¼‰ï¼Œç„¶ååˆ æ‰è¿™ä¸ªbranch    9.About \u0026lsquo;add\u0026rsquo;   addçš„åŸºæœ¬ç”¨æ³•\ngit add fileName\nè¿˜å¯ä»¥ä½¿ç”¨git add .æ¥æŠŠå½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ‰€æœ‰æ”¹åŠ¨å…¨éƒ¨æ”¾è¿›æš‚å­˜åŒº\nå…¶å®ï¼Œaddæ·»åŠ çš„æ—¶æ–‡ä»¶æ”¹åŠ¨ï¼Œè€Œä¸æ˜¯æ–‡ä»¶å\n    æŸ¥çœ‹gitä¿å­˜çš„å†å²è®°å½•ğŸ†‘\n1 2 3 4 5 6 7  git log --æŸ¥çœ‹å†å²è®°å½• git log -p --å¯ä»¥çœ‹åˆ°æ¯ä¸€ä¸ªcommitçš„æ¯ä¸€è¡Œæ”¹åŠ¨ git log -stat --æŸ¥çœ‹ç®€è¦ç»Ÿè®¡ï¼Œé€‚ç”¨äºå¤§æ¦‚çœ‹ä»¥ä¸‹æ”¹åŠ¨å†…å®¹ git show +æŸä¸€ä¸ªcommitçš„å¼•ç”¨ --çœ‹ä»»æ„ä¸€ä¸ªcommit git diff -staged --æ˜¾ç¤ºä½ å³å°†æäº¤çš„å†…å®¹ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å¦‚æœä½ ç«‹å³è¾“å…¥`git commit`ï¼Œä½ å°†æäº¤ä»€ä¹ˆ è¯¥æŒ‡ä»¤ä¸­staged==cached     10. ç”¨rebaseä»£æ›¿mergeçš„å·¥ä½œ   Rebaseï¼šæŠŠä½ æŒ‡å®šçš„commitä»¥åŠå®ƒæ‰€åœ¨çš„commitä¸²ï¼Œä»¥æŒ‡å®šçš„ç›®æ ‡commitä¸ºåŸºç¡€ï¼Œä¸€æ¬¡é‡æ–°æäº¤ä¸€éï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š\nå¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡ rebaseï¼Œ5 å’Œ 6 ä¸¤æ¡ commits æŠŠåŸºç¡€ç‚¹ä» 2 æ¢æˆäº† 4 ï¼›å¦å¤–ï¼Œåœ¨ rebase ä¹‹åï¼Œè®°å¾—åˆ‡å› master å† merge ä¸€ä¸‹ï¼ŒæŠŠ master ç§»åˆ°æœ€æ–°çš„ commit\n  NoticeğŸƒï¼šä¸ºäº†é¿å…å’Œè¿œç«¯ä»“åº“å‘ç”Ÿå†²çªï¼Œä¸€èˆ¬ä¸è¦ä» master å‘å…¶ä»– branch æ‰§è¡Œ rebase æ“ä½œã€‚ğŸƒ\n   11.Gitåº”ç”¨å®ä¾‹ 11.1 åˆšæäº¤çš„ä»£ç ï¼Œå†™é”™äº†æ€ä¹ˆåŠï¼ŸğŸ™ƒ   ä¸€ç§è§£å†³æ–¹æ³•æ˜¯å†æ–°å†™ä¸€ä¸ªå…³äºä¿®æ”¹è¿™ä¸ªé”™è¯¯çš„commit\n  å¦ä¸€ç§åˆ™æ˜¯é€šè¿‡ï¼šcommit -â€”amendï¼›åœ¨æäº¤æ—¶ï¼Œå¦‚æœåŠ ä¸Š --amend å‚æ•°ï¼ŒGit ä¸ä¼šåœ¨å½“å‰ commit ä¸Šå¢åŠ  commitï¼Œè€Œæ˜¯ä¼šæŠŠå½“å‰ commit é‡Œçš„å†…å®¹å’Œæš‚å­˜åŒºï¼ˆstageing areaï¼‰é‡Œçš„å†…å®¹åˆå¹¶èµ·æ¥ååˆ›å»ºä¸€ä¸ªæ–°çš„ commitï¼Œç”¨è¿™ä¸ªæ–°çš„ commit æŠŠå½“å‰ commit æ›¿æ¢æ‰ğŸ‰\n1 2  git add ä¿®æ”¹åçš„æ–‡ä»¶ git commit --amend     11.2é”™è¯¯çš„ä¸æ˜¯æœ€æ–°çš„æäº¤ï¼Œè€Œæ˜¯å€’æ•°ç¬¬äºŒä¸ªæ€ä¹ˆåŠğŸ˜¥   è¿™æ—¶å€™å°±å¯ä»¥é€šè¿‡ rebase -i æ¥æ‰¾æŒ‡å®šå½“å‰åˆ†æ”¯è¦rebaseçš„commité“¾ä¸­çš„æ¯ä¸€ä¸ªcommitæ˜¯å¦éœ€è¦ä¿®æ”¹ã€‚å› æ­¤ä½ å¯ä»¥åšå¦‚ä¸‹æ“ä½œ\n1  git log   1  git rebase -i HEAD^^   1 2 3 4 5 6  è¯´æ˜ï¼šåœ¨ Git ä¸­ï¼Œæœ‰ä¸¤ä¸ªã€Œåç§»ç¬¦å·ã€ï¼š ^ å’Œ ~ã€‚ ^ çš„ç”¨æ³•ï¼šåœ¨ commit çš„åé¢åŠ ä¸€ä¸ªæˆ–å¤šä¸ª ^ å·ï¼Œå¯ä»¥æŠŠ commit å¾€å›åç§»ï¼Œåç§»çš„æ•°é‡æ˜¯ ^ çš„æ•°é‡ã€‚ä¾‹å¦‚ï¼šmaster^ è¡¨ç¤º master æŒ‡å‘çš„ commit ä¹‹å‰çš„é‚£ä¸ª commitï¼› HEAD^^ è¡¨ç¤º HEAD æ‰€æŒ‡å‘çš„ commit å¾€å‰æ•°ä¸¤ä¸ª commitã€‚ ~ çš„ç”¨æ³•ï¼šåœ¨ commit çš„åé¢åŠ ä¸Š ~ å·å’Œä¸€ä¸ªæ•°ï¼Œå¯ä»¥æŠŠ commit å¾€å›åç§»ï¼Œåç§»çš„æ•°é‡æ˜¯ ~ å·åé¢çš„æ•°ã€‚ä¾‹å¦‚ï¼šHEAD~5 è¡¨ç¤º HEAD æŒ‡å‘çš„ commitå¾€å‰æ•° 5 ä¸ª commitã€‚   æ‰§è¡Œåï¼Œä¼šå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š\n  è¿™ä¸ªç¼–è¾‘ç•Œé¢çš„æœ€é¡¶éƒ¨ï¼Œåˆ—å‡ºäº†å°†è¦ã€Œè¢« rebaseã€çš„æ‰€æœ‰ commitsï¼Œä¹Ÿå°±æ˜¯å€’æ•°ç¬¬äºŒä¸ª commit ã€Œå¢åŠ å¸¸è§ç¬‘å£°é›†åˆã€å’Œæœ€æ–°çš„ commitã€Œå¢åŠ å¸¸è§å“­å£°é›†åˆã€ã€‚éœ€è¦æ³¨æ„ï¼Œè¿™ä¸ªæ’åˆ—æ˜¯æ­£åºçš„ï¼Œæ—§çš„ commit ä¼šæ’åœ¨ä¸Šé¢ï¼Œæ–°çš„æ’åœ¨ä¸‹é¢ã€‚\n  ä½ çš„ç›®æ ‡æ˜¯ä¿®æ”¹å€’æ•°ç¬¬äºŒä¸ª commitï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„é‚£ä¸ªã€Œå¢åŠ å¸¸è§ç¬‘å£°é›†åˆã€ï¼Œæ‰€ä»¥ä½ éœ€è¦æŠŠå®ƒçš„æ“ä½œæŒ‡ä»¤ä» pick æ”¹æˆ edit ã€‚ edit çš„æ„æ€æ˜¯ã€Œåº”ç”¨è¿™ä¸ª commitï¼Œç„¶ååœä¸‹æ¥ç­‰å¾…ç»§ç»­ä¿®æ­£ã€\næŠŠ pick ä¿®æ”¹æˆ edit åï¼Œå°±å¯ä»¥é€€å‡ºç¼–è¾‘ç•Œé¢äº†ï¼šæ­¤æ—¶rebase è¿‡ç¨‹å·²ç»åœåœ¨äº†ç¬¬äºŒä¸ª commit çš„ä½ç½®ï¼Œé‚£ä¹ˆç°åœ¨ä½ å°±å¯ä»¥å»ä¿®æ”¹ä½ æƒ³ä¿®æ”¹çš„å†…å®¹äº†ã€‚\n  git add ä¿®æ”¹åçš„æ–‡ä»¶ git commit --amend\n  ä¿®å¤å®Œæˆå ä½¿ç”¨ git rebase --continueæ¥ç»§ç»­rebaseè¿‡ç¨‹ï¼ŒæŠŠåé¢çš„commit ç›´æ¥åº”ç”¨ä¸Šå»\n  å¯èƒ½çœ‹æ–‡å­—æè¿°æœ‰ç‚¹ä¸èƒ½ç†è§£ï¼ŒğŸ‘Œä¸Šå›¾ï¼š\ngit rebase -i HEAD^^\ngit rebase --continue\n    11.3 ç”šè‡³éƒ½ä¸æƒ³ä¿®æ”¹ï¼Œåˆ é™¤ç®—äº†   ä¸¢å¼ƒæœ€æ–°çš„æäº¤ä½¿ç”¨ï¼šgit reset --hard HEAD^\n1  HEAD^`è¡¨ç¤ºä½ è¦æ¢å¤åˆ°å“ªä¸ª`commit`ã€‚å› ä¸ºä½ è¦æ’¤é”€æœ€æ–°çš„ä¸€ä¸ª`commit`ï¼Œæ‰€ä»¥ä½ éœ€è¦æ¢å¤åˆ°å®ƒçš„çˆ¶`commit`ï¼Œä¹Ÿå°±æ˜¯`HEAD^    Resetçš„å®è´¨ï¼šå…¶å®æ˜¯é‡ç½®HEADä»¥åŠå®ƒæ‰€æŒ‡å‘çš„branchçš„ä½ç½®çš„ï¼Œ\n è¿™æ ·å°±éœ€è¦æä¸‹git reset --hardå’Œgit reset --softçš„åŒºåˆ«äº†ï¼šå‰è€…æ˜¯åœ¨é‡ç½® HEAD å’Œ branch çš„åŒæ—¶ï¼Œé‡ç½®å·¥ä½œç›®å½•é‡Œçš„å†…å®¹ï¼›åè€…åˆ™æ˜¯ä¼šåœ¨é‡ç½® HEAD å’Œ branch æ—¶ï¼Œä¿ç•™å·¥ä½œç›®å½•å’Œæš‚å­˜åŒºä¸­çš„å†…å®¹ï¼Œå¹¶æŠŠé‡ç½® HEAD æ‰€å¸¦æ¥çš„æ–°çš„å·®å¼‚æ”¾è¿›æš‚å­˜åŒºã€‚ ä¾‹å¦‚ hardï¼šä½ æ–°ä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æäº¤ï¼Œä½¿ç”¨äº†hardæŒ‡ä»¤ï¼Œæ­¤æ—¶ä½ çš„å·¥ä½œç›®å½•é‡Œçš„æ–°æ”¹åŠ¨ä¹Ÿæ¶ˆå¤±äº†ï¼Œå¹¶ä¸resetåˆ‡æ¢åˆ°çš„commitä¿æŒåŒæ ·çš„å†…å®¹ï¼›softåˆ™æ˜¯ä¼šä¿ç•™å·¥ä½œç›®å½•å’Œæš‚å­˜åŒºçš„å†…å®¹ã€‚    ä¸¢å¼ƒçš„ä¸æ˜¯æœ€æ–°çš„æäº¤ ï¼š\né‚£å°±å˜åŸºåˆ°ä½ æƒ³åˆ é™¤çš„æäº¤ä¹‹å‰çš„é‚£ä¸ªCOMMITï¼šgit rebase -i HEAD~?ï¼Œç„¶åå†æç¤ºä¿¡æ¯ç•Œé¢åˆ é™¤é‚£ä¸ªæäº¤å³å¯ã€‚\n  å…³äºrebase -iè¿›è¡Œè¯´æ˜\nrebase -iå…¶å®å¯ä»¥ç†è§£ä¸ºæŠŠå½“å‰headæ‰€æŒ‡å‘çš„commitä¹‹å‰çš„æŸä¸ªæäº¤ä½œä¸ºåŸºç‚¹ï¼Œä»è¯¥åŸºç‚¹å¼€å§‹ï¼Œå¯¹åé¢çš„å½“å‰åˆ†æ”¯çš„commitè¿›è¡Œæäº¤ï¼Œä½†æ˜¯å®ƒä¼šå…ˆç»™ä¸ªæç¤ºä¿¡æ¯ç•Œé¢ç”¨äºä½ å»é€‰æ‹©å¯¹åŸºç‚¹ä¹‹åçš„commitè¿›è¡Œæ“ä½œ\n  æ–¹ä¾¿çš„æ’¤é”€ï¼šgit onto ğŸ¤˜\n1  git rebase --onto ç›®æ ‡commit èµ·ç‚¹commit ç»ˆç‚¹commitv Notice:èµ·ç‚¹ä¸åŒ…å«å†rebaseä¸­     11.4 ä»£ç å·²ç»pushä¸Šå»äº†ğŸ”ï¼Œå¹¶åˆå¹¶åˆ°master   åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å°±éœ€è¦åšä¸€ä¸ªæŠŠè¿™è¡Œä»£ç è¿˜åŸå›æ¥çš„æäº¤ï¼šrevert\ngit revert HEAD^è¿™è¡Œä»£ç ä¼šå¢åŠ ä¸€æ¡æ–°çš„æäº¤ï¼Œå®ƒçš„å†…å®¹å’Œå€’æ•°ç¬¬äºŒä¸ªcommitæ˜¯ç›¸åçš„ï¼Œä»è€Œè¾¾åˆ°æ’¤é”€çš„ç›®çš„ã€‚âš \n  12.CheckOutæœ¬è´¨  å‰é¢è¯´åˆ°checkoutå¯ä»¥ç”¨æ¥åˆ‡æ¢ branchï¼›ä½†æ˜¯å®è´¨ä¸Šï¼Œå®ƒçš„åŠŸèƒ½å…¶å®æ˜¯ï¼š**ç­¾å‡ºæŒ‡å®šçš„commit**ğŸ¤ªï¼Œé€šä¿—çš„è®²ï¼Œå°±æ˜¯æŠŠ HEAD æŒ‡å‘æŒ‡å®šçš„ branchï¼Œç„¶åç­¾å‡ºè¿™ä¸ª branch æ‰€å¯¹åº”çš„ commit çš„å·¥ä½œç›®å½•ã€‚æ‰€ä»¥åŒæ ·çš„ï¼Œcheckout çš„ç›®æ ‡ä¹Ÿå¯ä»¥ä¸æ˜¯ branchï¼Œè€Œç›´æ¥æŒ‡å®šæŸä¸ª commitâœ checkoutå’Œresetéƒ½å¯ä»¥åˆ‡æ¢headçš„ä½ç½®ï¼Œä½†æ˜¯resetåŒæ—¶ç§»åŠ¨HEADå’Œå®ƒæ‰€æŒ‡å‘çš„branchï¼Œè€Œcheckoutåªç§»åŠ¨head  13. å…³äº.gitignore  åœ¨ Git ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ–‡æœ¬æ–‡ä»¶ï¼š.gitignoreã€‚è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶è®°å½•äº†æ‰€æœ‰ä½ å¸Œæœ›è¢« Git å¿½ç•¥çš„ç›®å½•å’Œæ–‡ä»¶ã€‚å…·ä½“çš„è§„åˆ™å¯æŸ¥é˜… ğŸ‘‰ ğŸ’¾ ğŸ‘ˆ  14.ä½¿ç”¨gitå¸¸å‡ºç°çš„é”™è¯¯(REAMINS TO BE DONE) ","date":"2022-02-15T00:01:02+08:00","image":"https://yuxin-zh.github.io/AllForOne/p/git/b1_hu17068975d7620e962a90e7eb4393cc6e_69230_120x120_fill_q75_box_smart1.jpg","permalink":"https://yuxin-zh.github.io/AllForOne/p/git/","title":"Git"},{"content":"wwwwww\n","date":"2020-09-09T00:00:00Z","image":"https://yuxin-zh.github.io/AllForOne/p/test-chinese/12_hu45a5e3ad5e058da6a00650ed8fd40bea_15530_120x120_fill_q75_box_smart1.jpg","permalink":"https://yuxin-zh.github.io/AllForOne/p/test-chinese/","title":"Test"}]