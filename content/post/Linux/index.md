---
title: "Linux"
date: 2022-02-16T00:54:24+08:00
draft: false
image: b4.jpg
---

[TOC]

# LINUX安装与配置

## 1.虚拟机安装

- 新建虚拟机，选择自定义

![image-20220216110052133](1.png)

- 选择默认版，然后下一步

  ![image-20220216110149122](2.png)

- 然后点击稍后安装操作系统

  ![image-20220216110236313](3.png)

- 选择centos 7 64位

  ![image-20220216110344768](4.png)

- 更改安装位置到你希望安装的位置

  ![image-20220216110449120](5.png)

- 以下电脑配置高的可以选择配置多个处理器

  ![image-20220216110548327](6.png)

- 虚拟机内存默认是1G，如果有需要可按需调配，这里配置4G

  ![image-20220216110645172](7.png)

- 网络类型选择使用仅主机模式网络

  ![image-20220216110740366](9.png)

- SCSI控制器选择LSI Logic（默认）

  ![image-20220216110830862](10.png)

- 磁盘选择创建新的

  ![image-20220216110917795](11.png)

- 最大磁盘大小选择默认的20G

  ![image-20220216110959094](12.png)

- 完成安装

  ![image-20220216111151311](13.png)

  

## 2.安装镜像

- 点击编辑虚拟机设置

  ![image-20220216111449910](14.png)

- 点击CD/DVD

  ![image-20220216111646912](15.png)



- 点击使用ISO镜像文件，然后选择安装的cent的镜像

  ![image-20220216111841398](16.png)

- 开启虚拟机，选择install centos 7 回车

  ![image-20220216112012212](17.png)

- 安装结束后选择中文

  ![image-20220216112135715](18.png)

- 点击软件选择

  ![image-20220216112234481](19.png)

- 这里我们选择最小安装，你也可以根据自己的需要选择

  ![image-20220216112339907](20.png)

- 然后是点击安装目标位置，直接 点击完成即可

- 再点击网络和主机名，点击配置

  ![image-20220216112609255](21.png)

- 点击ipv4设置，讲虚拟机设置静态ip，ip地址为192.168.xx.xx,**注意将DNS服务器和网关设置一致，子网掩码设置为255.255.255.0**

  ![image-20220216113112798](22.png)

- 点击ipv6 切换为忽略，然后完成。

  ![image-20220216113150112](23.png)

- 点击完成

  ![image-20220216114058471](24.png)

- 设置主机名，点击应用

  ![ ](111.png)

- 完成

- 设置root密码

  ![image-20220216114342482](25.png)

- 设置完成后，重启。

  ![image-20220216114443133](26.png)

- 可能需要等待一段时间

  ![image-20220216114529989](27.png)

- 输入密码，登录成功 **登陆时用户名为root，密码是你设置的那个密码**

- 修改网络配置

  ```bash
  vi/etc/sysconfig/network-scripts/ifcfg-ens33
  ```

  ![image-20220216115403759](28.png)

- 修改如下配置

  ```bash
  IPADDR="192.168.50.XX(这里的数字可以自己选择)" //IP地址
  PREFIX="24" 
  GATEWAY="192.168.50.2"//网关
  DNS1="192.168.50.2 //DNS服务器"
  ```

- 然后点击`service network restart`

- 查看ip地址`ifconfig`,这样你的虚拟机就安装完成了

## 3.配置虚拟机网络适配器

- 点击网络适配器

  ![image-20220216120459517](29.png)

- 点击编辑

  ![image-20220216120533512](30.png)

- 然后编辑ip地址信息`vi /etc/sysconfig/network-scripts/ifcfg-ens33`

  ```bash
  然后修改BOOTPROTO=static
  ONBOOT=yes
  加上DNS2=8.8.8.8
  然后按下ESC  输入":wq"  回车
  ```

- 保存后输入`systemctl restart network`或`service network restart`

## 4.配置DNS

- 一次输入以下命令：

  `cd /etc/NetworkManager`

  `vi NetworkManager.conf`再最后添加dns=none

- 然后`vi /etc/resolv.conf`

- ![image-20220216122105343](31.png)

- 输入你之前保存的两个NDS

- 尝试ping www.baidu.com   内网

- ping 172.16.50.171  外网

  

